import{O as V,i as y,f as J,h as j,j as Q,t as R,d as W,a as f,F as K,u as p,B as Oe,I as N,g as F,c as G,m as O,X as le,a4 as fe,E as ze,D as Te,C as Ie,A as q,Z as Ce,s as ne,_ as Ye,k as Ae,x as Ne,L as ve}from"./index-5e0fdc25.js";import{V as He}from"./Value-53f54136.js";import{d as D}from"./dayjs.min-ea173184.js";import{c as Fe}from"./createField-47c85f73.js";const Ve=R("<div><em>");function _e(e,t){if(!t)return!1;const n=ae(new Date(e[0])),r=ae(new Date(e[1]));return n?e.length===1&&n.getTime()===t.getTime()||e.length===2&&n.getTime()<=t.getTime()&&r.getTime()>=t.getTime():!1}function Me(e,t){return""+e.getFullYear()+e.getMonth()+e.getDate()==""+t.getFullYear()+t.getMonth()+t.getDate()}function je(e,t){return""+e.getFullYear()+e.getMonth()==""+t.getFullYear()+t.getMonth()}function Ge(e){const t=ee(),n=ae(new Date),r=e.day?n.toLocaleDateString()===e.day.toLocaleDateString():!1,a=()=>e.type==="dateRange"||e.type==="dateTimeRange"?!1:e.value&&e.value instanceof Date&&e.day?e.value.toLocaleDateString()===e.day.toLocaleDateString():!1;let i=e.day&&t&&t.disabledDate&&t.disabledDate(e.day);e.month&&e.day&&je(e.month,e.day)||(i=!0);const o=()=>e.range&&e.day?_e(e.range,e.day):!1,s=()=>e.range&&e.range[0]&&e.day&&Me(e.range[0],e.day),l=()=>e.range&&e.range[1]&&e.day&&Me(e.range[1],e.day),u=()=>{const _=e.range&&e.range.length===1&&e.hoverDate?[e.hoverDate,e.range[0]]:[];return _.length===2&&_.sort((w,m)=>w.getTime()-m.getTime()),_&&e.day?_e(_,e.day):!1},h=()=>({"cm-date-picker-day":!0,"cm-date-picker-empty":!e.day,"cm-date-picker-today":r,"cm-date-picker-active":a(),"cm-date-picker-inrange":!i&&o(),"cm-date-picker-inhover":!i&&u(),"cm-date-picker-first-range":s(),"cm-date-picker-last-range":l(),"cm-date-picker-day-disabled":i}),c=()=>{e.day&&t&&t.onSelectDate(e.day,e.name)},g=()=>{e.day&&t&&t.onMouseOver(e.day)};return(()=>{const _=Ve(),w=_.firstChild;return _.$$mouseover=g,_.$$click=c,y(w,(()=>{const m=J(()=>!!e.day);return()=>m()?e.day.getDate():""})()),j(m=>Q(_,h(),m)),_})()}V(["click","mouseover"]);const Xe=R('<div class="cm-month-picker-cell"><ul>'),Ue=R("<li>");function ye(e){const t=ee(),n=(a,i)=>{i||e.onSelect&&e.onSelect(e.type,a)};let r;return W(()=>{if(r&&t?.visible()){const a=e.data[0],i=e.value?e.value:e.type==="year"?new Date().getFullYear():new Date().getMonth()+1;r.scrollTop=26*(i-a)}}),(()=>{const a=Xe(),i=a.firstChild,o=r;return typeof o=="function"?p(o,a):r=a,y(i,f(K,{get each(){return e.data},children:s=>{let l=()=>{let h=!1,c=new Date(e.day);return e.type==="year"&&(c.setFullYear(s),c.setMonth(1),c.setDate(1),h=t&&t.disabledDate&&t.disabledDate(c)),e.type==="month"&&(c.setMonth(s-1),h=t&&t.disabledDate&&t.disabledDate(c)),h};const u=()=>({"cm-month-picker-item":!0,"cm-month-picker-item-active":e.value===s,"cm-month-picker-item-disabled":l()});return(()=>{const h=Ue();return h.$$click=()=>{n(s,l())},y(h,s),j(c=>Q(h,u(),c)),h})()}})),a})()}V(["click"]);const qe=R('<div class="cm-date-picker-month-header">'),We=R('<div class="cm-date-picker-month"><div class="cm-date-picker-month-body">');function re(e){const[t,n]=e.store,r=ee(),a=()=>{if(e.type==="date"||e.type==="dateRange"||e.type==="dateTime"||e.type==="dateTimeRange"){const h=e.name==="end"?1:0;return t.currentMonth[h]&&t.currentMonth[h].getFullYear&&t.currentMonth[h].getFullYear()}else return e.value&&e.value.getFullYear&&e.value.getFullYear()},i=()=>{const h=[];let c=new Date().getFullYear();c=c-60;for(let g=0;g<100;g++)h.push(c+g);return h},o=()=>[1,2,3,4,5,6,7,8,9,10,11,12].concat([]),s=()=>{if(e.type==="date"||e.type==="dateRange"||e.type==="dateTime"||e.type==="dateTimeRange"){const h=e.name==="end"?1:0;return t.currentMonth[h]&&t.currentMonth[h].getMonth&&t.currentMonth[h].getMonth()+1}else return e.value&&e.value.getMonth&&e.value.getMonth()+1},l=(h,c)=>{const g=e.name==="end"?1:0,_=new Date(t.currentMonth[g]);if(h==="year"&&_.setFullYear(c),h==="month"&&_.setMonth(c-1),e.onMonthChange){e.onMonthChange(_,h,e.name);return}n("currentMonth",e.name==="end"?[t.currentMonth[0],_]:[_,t.currentMonth[1]]),e.type!=="dateRange"&&e.type!=="date"&&r&&r.onSelectDate&&r.onSelectDate(_,e.name)},u=()=>{e.onBack&&e.onBack()};return(()=>{const h=We(),c=h.firstChild;return y(h,f(F,{get when(){return e.type==="date"||e.type==="dateRange"||e.type==="dateTime"||e.type==="dateTimeRange"},get children(){const g=qe();return y(g,f(Oe,{type:"text",onClick:u,ghost:!0,get icon(){return f(N,{name:"chevron-left",size:16})},children:"返回选择日期"})),g}}),c),y(c,f(ye,{get data(){return i()},get value(){return a()},get day(){return t.currentMonth[0]},type:"year",onSelect:l}),null),y(c,f(ye,{get data(){return o()},get value(){return s()},get day(){return t.currentMonth[0]},type:"month",onSelect:l}),null),h})()}const Ze=R('<div class="cm-date-picker-date-inner"><div class="cm-date-picker-date-header"><div class="cm-date-picker-header-arrow"></div><div class="cm-date-picker-header-arrow"></div><span class="cm-date-picker-date-info"></span><div class="cm-date-picker-header-arrow"></div><div class="cm-date-picker-header-arrow"></div></div><div class="cm-date-picker-date-body"><div class="cm-date-picker-week-line"></div><div class="cm-date-picker-date-days"></div></div><div class="cm-date-picker-date-footer">'),Je=R('<div class="cm-date-picker-date">'),Ke=R("<div>"),Qe=["日","一","二","三","四","五","六"];function ae(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}const te=(e,t,n,r,a,i)=>{const o=e.currentMonth[r==="end"?1:0];o[`set${n}`](o[`get${n}`]()+1*a);const s=[...e.currentMonth];if(i){const l=s[r==="end"?0:1];l[`set${n}`](l[`get${n}`]()+1*a)}else if(D(s[0]).format("YYYY-MM")===D(s[1]).format("YYYY-MM")||s[0].getTime()>s[1].getTime()){const l=s[r==="end"?0:1];l[`set${n}`](l[`get${n}`]()+1*a)}t("currentMonth",s)};function ie(e){const[t,n]=e.store;e.type;const[r,a]=G("date"),i=()=>{te(t,n,"Month",e.name,1,e.stick)},o=()=>{te(t,n,"Month",e.name,-1,e.stick)},s=()=>{te(t,n,"FullYear",e.name,-1,e.stick)},l=()=>{te(t,n,"FullYear",e.name,1,e.stick)},u=()=>{a("month")},h=()=>{a("date")},c=(w,m,S)=>{const H=t.currentMonth[S==="end"?1:0];H.setFullYear(w.getFullYear()),H.setMonth(w.getMonth());const k=[...t.currentMonth],C=m==="year"?"FullYear":"Month";if(e.stick){const x=new Date(H);x.setMonth(x.getMonth()+1*(S==="end"?-1:1)),k[S==="end"?0:1]=x}else if(D(k[0]).format("YYYY-MM")===D(k[1]).format("YYYY-MM")||k[0].getTime()>k[1].getTime()){const x=k[S==="end"?0:1];x[`set${C}`](x[`get${C}`]()+1*(S==="end"?-1:1))}n("currentMonth",k)},g=()=>{const w=[],m=ae(new Date(t.currentMonth[e.name==="end"?1:0]));m.setDate(1);const S=new Date(m);S.setMonth(S.getMonth()+1),S.setDate(0);const H=m.getDay()%7;let k=new Date(m);k.setDate(k.getDate()-H-1);for(let x=0;x<H;x++)w.push(new Date(k.setDate(k.getDate()+1)));m.setDate(0);for(let x=0;x<S.getDate();x++)w.push(new Date(m.setDate(m.getDate()+1)));let C=w[w.length-1];C=new Date(C);for(let x=0,A=42-w.length;x<A;x++)w.push(new Date(C.setDate(C.getDate()+1)));return w},_=()=>D(t.currentMonth[e.name==="end"?1:0]).format("YYYY年MM月");return(()=>{const w=Je();return y(w,f(F,{get when(){return r()==="date"},get children(){const m=Ze(),S=m.firstChild,H=S.firstChild,k=H.nextSibling,C=k.nextSibling,x=C.nextSibling,A=x.nextSibling,ue=S.nextSibling,d=ue.firstChild,M=d.nextSibling;return y(H,f(N,{name:"chevrons-left",onClick:s})),y(k,f(N,{name:"chevron-left",onClick:o})),C.$$click=u,y(C,_),y(x,f(N,{name:"chevron-right",onClick:i})),y(A,f(N,{name:"chevrons-right",onClick:l})),y(d,f(K,{each:Qe,children:v=>(()=>{const $=Ke();return y($,v),$})()})),y(M,f(K,{get each(){return g()},children:v=>f(Ge,{get range(){return t.range},get hoverDate(){return t.hoverDate},get type(){return e.type},day:v,get value(){return e.value},get name(){return e.name},get month(){return t.currentMonth[e.name==="end"?1:0]}})})),m}}),null),y(w,f(F,{get when(){return r()==="month"},get children(){return f(re,O(e,{onBack:h,onMonthChange:c}))}}),null),w})()}V(["click"]);function pe(e){const[t,n]=le(e,["value"]),r=()=>t.value?t.value[0]:"",a=()=>t.value?t.value[1]:"";return[f(re,O({name:"start"},n,{get value(){return r()}})),f(re,O({name:"end"},n,{get value(){return a()}}))]}function et(e){const[t,n]=le(e,["value"]),r=()=>t.value[0],a=()=>t.value[1];return[f(ie,O({name:"start",get value(){return r()}},n)),f(ie,O({name:"end",get value(){return a()}},n))]}const tt=R('<div class="cm-date-picker-datetime"><div class="cm-datetime-content"></div><div class="cm-datetime-switch"><div class="cm-datetime-switch-item"></div><div class="cm-datetime-switch-item">');function ge(e){const[t,n]=G("date"),r=ee(),a=()=>e.store[0].currentMonth[e.name==="end"?1:0],i=()=>D(e.value||new Date).format("YYYY-MM-DD"),o=()=>D(a()).format("HH:mm:ss"),s=u=>{n(u)},l=(u,h,c)=>{let g=new Date(a());u==="hour"&&g.setHours(h),u==="minute"&&g.setMinutes(h),u==="second"&&g.setSeconds(h),r&&r.onSelectTime(g,e.name)};return(()=>{const u=tt(),h=u.firstChild,c=h.nextSibling,g=c.firstChild,_=g.nextSibling;return y(h,f(F,{get when(){return t()==="date"},get children(){return f(ie,e)}}),null),y(h,f(F,{get when(){return t()==="time"},get children(){return f(se,O(e,{header:"选择时间",get value(){return a()},onSelectTime:l}))}}),null),fe(g,"click",s.bind(null,"date"),!0),y(g,f(N,{name:"calendar1",size:12}),null),y(g,i,null),fe(_,"click",s.bind(null,"time"),!0),y(_,f(N,{name:"clock",size:12}),null),y(_,o,null),j(w=>{const m=t()==="date",S=t()==="time";return m!==w._v$&&g.classList.toggle("active",w._v$=m),S!==w._v$2&&_.classList.toggle("active",w._v$2=S),w},{_v$:void 0,_v$2:void 0}),u})()}V(["click"]);function nt(e){const[t,n]=le(e,["value"]),r=()=>t.value&&t.value[0],a=()=>t.value&&t.value[1];return[f(ge,O({name:"start",get value(){return r()}},n)),f(ge,O({name:"end",get value(){return a()}},n))]}const rt=R("<div>"),at=R('<div class="cm-date-picker-shortcuts">'),it=R('<div class="cm-date-picker-wrap">'),Le=Ce();function Jt(e){const[t,n]=G(!1),r=e.type??"date",[a,i]=Fe(e,"value",r==="dateRange"||r==="dateTimeRange"?[]:""),[o,s]=G();let l=e.format??"YYYY-MM-DD";(r==="month"||r==="monthRange")&&(l=e.format??"YYYY-MM"),(r==="dateTime"||r==="dateTimeRange")&&(l=e.format??"YYYY-MM-DD HH:mm:ss");const u=new Date,h=new Date;h.setMonth(h.getMonth()+1);const[c,g]=ze({currentMonth:[u,h],range:[],hoverDate:void 0}),_=e.align??"bottomLeft",w=e.seperator||"~";W(()=>{let d=a();d&&d instanceof Array&&typeof d[0]=="function"&&(d=d[0]());let M;if(d){if(typeof d=="string")if(r==="dateRange"||r==="monthRange"||r==="dateTimeRange"){const v=d.split(w);d=[D(v[0]).toDate(),D(v[1]).toDate()];const $=new Date(d[0]);let B=new Date(d[1]);D($).format("YYYY-MM")===D(B).format("YYYY-MM")&&B.setMonth(B.getMonth()+1),M=[$,B]}else{d=D(d).toDate();const v=new Date(d);let $=new Date(d);$.setMonth($.getMonth()+1),M=[v,$]}else{let v=new Date,$=new Date;d instanceof Array&&(typeof d[0]=="string"&&(d[0]=D(d[0]).toDate()),typeof d[1]=="string"&&(d[1]=D(d[1]).toDate()),v=d[0]===void 0?new Date:d[0]?new Date(d[0]):new Date,$=d[1]===void 0?new Date:d[1]?new Date(d[1]):new Date),r==="month"&&d instanceof Date&&(v=d,$=new Date(d)),D(v).format("YYYY-MM")===D($).format("YYYY-MM")&&$.setMonth($.getMonth()+1),M=[v,$]}(r==="dateRange"||r==="dateTimeRange")&&g("range",d)}else M=[u,h];e.stick&&(M[1]=new Date(M[0]),M[1].setMonth(M[1].getMonth()+1)),M[0].setDate(1),M[1].setDate(1),g("currentMonth",M),s(d)});const m=()=>Ae(e,"cm-date-picker",{[`cm-date-picker-${e.size}`]:e.size,"cm-date-picker-disabled":e.disabled,"cm-date-picker-clearable":!e.disabled&&e.clearable&&a()&&a().length!==0}),S=()=>{i(""),r==="dateRange"&&g("range",[]),e.onChange&&e.onChange("")},H=(d,M)=>{const v=new Date(d);if((r==="month"||r==="monthRange")&&(v.setDate(1),v.setHours(0),v.setMinutes(0),v.setSeconds(0),v.setMilliseconds(0)),r==="dateTime"||r==="dateTimeRange"){let Y=o();r==="dateTimeRange"?Y=Y&&Y.length?Y[c.range.length===1?1:0]:c.currentMonth[c.range.length===1?1:0]:Y=Y||c.currentMonth[c.range.length===1?1:0],v.setHours(Y.getHours()),v.setMinutes(Y.getMinutes()),v.setSeconds(Y.getSeconds())}const $=new Date;let B=o()||(r==="monthRange"||r==="dateRange"||r==="dateTimeRange"?[$,$]:$);(r==="dateRange"||r==="dateTimeRange")&&!B.length&&(B.push($),B.push($));let z;if(M==="start"?z=[v,B[1]]:M==="end"?z=[B[0],v]:z=v,z instanceof Array&&z[0].getTime()>z[1].getTime()&&z.reverse(),r==="dateRange"||r==="dateTimeRange"){let Y=c.range,X=[];if((Y[0]&&Y[1]||!Y[0]&&!Y[1])&&(X=[v],g("hoverDate",new Date(v))),Y[0]&&!Y[1]){if(x(Y[0],v))return;if(X=[Y[0],v],X[0].getTime()>X[1].getTime()){X.reverse();const be=new Date;k(be,c.currentMonth[0]),k(c.currentMonth[0],c.currentMonth[1]),k(c.currentMonth[1],be),g("currentMonth",[...c.currentMonth])}i(X),r==="dateRange"&&n(!1)}g("range",X);return}i(z),e.onChange&&e.onChange(z),r==="date"&&n(!1)},k=(d,M)=>{d.setHours(M.getHours()),d.setMinutes(M.getMinutes()),d.setSeconds(M.getSeconds())},C=(d,M)=>{let v=o(),$;M==="start"?($=c.currentMonth[0],v&&v[0]?(k(v[0],d),v[0].getTime()>v[1].getTime()?(v.reverse(),k(c.currentMonth[0],v[0]),k(c.currentMonth[1],v[1])):k($,d),i([...v])):k($,d)):M==="end"?($=c.currentMonth[1],v&&v[1]?(k(v[1],d),v[0].getTime()>v[1].getTime()?(v.reverse(),k(c.currentMonth[0],v[0]),k(c.currentMonth[1],v[1])):k($,d),i([...v])):k($,d)):(v||(v=new Date),k(v,d),$=c.currentMonth[0],k($,d),i(new Date(v))),g("currentMonth",[...c.currentMonth])},x=(d,M)=>{if(e.maxRange){const v=d.getTime()-M.getTime();if(Math.abs(v/1e3/60/60/24)>e.maxRange-1)return!0}return!1},A=d=>{if(c.range&&c.range[0]){if(x(c.range[0],d)&&e.maxRange){const M=new Date(c.range[0]),v=d.getTime()>c.range[0].getTime()?1:-1;M.setDate(M.getDate()+(e.maxRange-1)*v),g("hoverDate",M);return}g("hoverDate",new Date(d))}},ue=J(()=>{const d=o();return d?typeof d=="string"?d:r==="dateRange"||r==="monthRange"||r==="dateTimeRange"?d[0]?[D(d[0]).format(l),D(d[1]).format(l)].join(w):"":D(d).format(l):""});return f(Le.Provider,{get value(){return{onSelectDate:H,onMouseOver:A,disabledDate:e.disabledDate,onSelectTime:C,visible:t}},get children(){const d=rt();return y(d,f(Te,{visible:[t,n],get transfer(){return e.transfer},align:_,get revers(){return e.revers},trigger:"click",get disabled(){return e.disabled},get menu(){return(()=>{const M=it();return y(M,f(F,{get when(){return e.shortCuts},get children(){const v=at();return y(v,(()=>{const $=J(()=>typeof e.shortCuts=="function");return()=>$()?e.shortCuts():e.shortCuts})()),v}}),null),y(M,f(Ie,{get children(){return[f(q,{when:r==="date",get children(){return f(ie,{store:[c,g],get stick(){return e.stick},type:r,get value(){return o()}})}}),f(q,{when:r==="month",get children(){return f(re,{store:[c,g],type:r,get value(){return o()}})}}),f(q,{when:r==="monthRange",get children(){return f(pe,{store:[c,g],type:r,get value(){return o()}})}}),f(q,{when:r==="dateRange",get children(){return f(et,{store:[c,g],get stick(){return e.stick},get value(){return o()},type:r})}}),f(q,{when:r==="dateTime",get children(){return f(ge,{store:[c,g],get stick(){return e.stick},type:r,get value(){return o()},format:l})}}),f(q,{when:r==="dateTimeRange",get children(){return f(nt,{store:[c,g],get stick(){return e.stick},type:r,get value(){return o()},format:l})}})]}}),null),M})()},get children(){return f(F,{get when(){return!e.trigger},get fallback(){return J(()=>!!e.trigger)()&&e.trigger()},get children(){return f(He,{get prepend(){return e.prepend},get text(){return ue()},onClear:S,get clearable(){return e.clearable},get placeholder(){return e.placeholder},get disabled(){return e.disabled},get size(){return e.size},get icon(){return f(N,{name:"calendar1"})}})}})}})),j(M=>{const v=m(),$=e.style;return M._v$=Q(d,v,M._v$),M._v$2=ne(d,$,M._v$2),M},{_v$:void 0,_v$2:void 0}),d}})}const ee=()=>Ye(Le),st=R('<div class="cm-time-picker-cell"><ul>'),ct=R("<li>");function he(e){const t=[];for(let o=0;o<e.max;)t.push(o),o+=e.step||1;const n=gt(),r=ee(),a=(o,s)=>{s||(n&&n.onSelect(e.type,o,e.name),e.onSelectTime&&e.onSelectTime(e.type,o,e.name))};let i;return W(()=>{const o=n?.visible(),s=r?.visible();i&&(o||s)&&(i.scrollTop=26*(e.value/(e.step||1)))}),(()=>{const o=st(),s=o.firstChild,l=i;return typeof l=="function"?p(l,o):i=o,y(s,f(K,{each:t,children:u=>{const h=n&&n.disabledTime&&n.disabledTime(u,e.type),c=()=>({"cm-time-picker-item":!0,"cm-time-picker-item-active":e.value===u,"cm-time-picker-item-disabled":h});return(()=>{const g=ct();return fe(g,"click",a.bind(null,u,h),!0),y(g,u),j(_=>Q(g,c(),_)),g})()}})),o})()}V(["click"]);const lt=R('<div class="cm-time-picker-header">'),ot=R('<div class="cm-time-picker-footer">'),ut=R('<div class="cm-time-picker-pane"><div class="cm-time-picker-options">');function se(e){const t=()=>e.value&&e.value.getHours&&e.value.getHours(),n=()=>e.value&&e.value.getMinutes&&e.value.getMinutes(),r=()=>e.value&&e.value.getSeconds&&e.value.getSeconds(),a=()=>e.format.indexOf("H")>-1,i=()=>e.format.indexOf("m")>-1,o=()=>e.format.indexOf("s")>-1;return(()=>{const s=ut(),l=s.firstChild;return y(s,f(F,{get when(){return e.header},get children(){const u=lt();return y(u,()=>e.header),u}}),l),y(l,f(F,{get when(){return a()},get children(){return f(he,{max:24,type:"hour",get value(){return t()},get step(){return e.hourStep},get name(){return e.name},get onSelectTime(){return e.onSelectTime}})}}),null),y(l,f(F,{get when(){return i()},get children(){return f(he,{max:60,type:"minute",get value(){return n()},get step(){return e.minuteStep},get name(){return e.name},get onSelectTime(){return e.onSelectTime}})}}),null),y(l,f(F,{get when(){return o()},get children(){return f(he,{max:60,type:"second",get value(){return r()},get step(){return e.secondStep},get name(){return e.name},get onSelectTime(){return e.onSelectTime}})}}),null),y(s,f(F,{get when(){return e.footer},get children(){const u=ot();return y(u,()=>e.footer),u}}),null),s})()}function ht(e){const[t,n]=le(e,["header","footer","value"]),r=()=>t.value[0],a=()=>t.value[1];return[f(se,O({get value(){return r()},get header(){return t.header[0]},get footer(){return t.footer&&t.footer.length&&t.footer[0]}},n,{name:"start"})),f(se,O({get value(){return a()},get header(){return t.header[1]},get footer(){return t.footer&&t.footer.length&&t.footer[1]}},n,{name:"end"}))]}const dt=R('<div tabindex="1">'),ft=R('<div class="cm-time-picker-wrap">'),Ee=Ce();function Kt(e){const[t,n]=Fe(e,e.type==="timeRange"?[]:""),[r,a]=G(t()),[i,o]=G(!1),s=e.align??"bottomLeft",l=e.format??"HH:mm:ss",u=e.seperator||"~",h=e.header??(e.type==="timeRange"?["开始时间","结束时间"]:void 0),c=()=>Ae(e,"cm-time-picker",{"cm-time-picker-disabled":e.disabled,[`cm-time-picker-${e.theme}`]:e.theme,[`cm-time-picker-${e.size}`]:e.size,"cm-time-picker-clearable":!e.disabled&&e.clearable&&t()!==""&&t().length!==0,"cm-time-picker-open":open});W(()=>{let m=t();if(m)if(typeof m=="string")if(e.type==="timeRange"){const S=m.split(u);m=[D(D().format("YYYY-MM-DD ")+S[0]).toDate(),D(D().format("YYYY-MM-DD ")+S[1]).toDate()]}else m=D(D().format("YYYY-MM-DD ")+m).toDate();else m instanceof Array&&m[0]&&typeof m[0]=="string"&&(m=[D(D().format("YYYY-MM-DD ")+m[0]).toDate(),D(D().format("YYYY-MM-DD ")+m[1]).toDate()]);a(m)});const g=(m,S,H)=>{const k=new Date;let C=r()||(e.type==="timeRange"?[k,k]:k);e.type==="timeRange"&&!C.length&&(C.push(k),C.push(k));let x;if(H==="start"?x=C[0]:H==="end"?x=C[1]:x=C,m==="hour"&&x.setHours(S),m==="minute"&&x.setMinutes(S),m==="second"&&x.setSeconds(S),e.type==="timeRange"){let A=[];H==="start"&&(A=[new Date(x),C[1]]),H==="end"&&(A=[C[0],new Date(x)]),A[0].getTime()>A[1].getTime()&&(A=[A[1],A[0]]),n(A),e.onChange&&e.onChange(A)}else{const A=new Date(x);n(A),e.onChange&&e.onChange(A)}},_=()=>{n(""),e.onChange&&e.onChange("")},w=()=>{const m=r();return m?typeof m=="string"?m:e.type==="timeRange"?m.length?typeof m[0]=="string"?m.join(u):[D(m[0]).format(l),D(m[1]).format(l)].join(u):"":D(m).format(l):""};return f(Ee.Provider,{get value(){return{onSelect:g,disabledTime:e.disabledTime,visible:i}},get children(){const m=dt();return Ne(m,"x-placement",s),y(m,f(Te,{get transfer(){return e.transfer},align:s,trigger:"click",get disabled(){return e.disabled},visible:[i,o],get menu(){return(()=>{const S=ft();return y(S,f(F,{get when(){return e.type==="timeRange"},get fallback(){return f(se,{get value(){return r()},format:l,get minuteStep(){return e.minuteStep},get secondStep(){return e.secondStep},get hourStep(){return e.hourStep},header:h,get footer(){return e.footer}})},get children(){return f(ht,{get value(){return r()},format:l,get minuteStep(){return e.minuteStep},get secondStep(){return e.secondStep},get hourStep(){return e.hourStep},header:h,get footer(){return e.footer}})}})),S})()},get children(){return f(F,{get when(){return!e.trigger},get fallback(){return J(()=>!!e.trigger)()&&e.trigger()},get children(){return f(He,{get prepend(){return e.prepend},get text(){return w()},onClear:_,get clearable(){return e.clearable},get placeholder(){return e.placeholder},get disabled(){return e.disabled},get size(){return e.size},get icon(){return f(N,{name:"clock"})}})}})}})),j(S=>Q(m,c(),S)),m}})}const gt=()=>Ye(Ee);function ce(e){"@babel/helpers - typeof";return ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ce(e)}var mt=/^\s+/,vt=/\s+$/;function b(e,t){if(e=e||"",t=t||{},e instanceof b)return e;if(!(this instanceof b))return new b(e,t);var n=bt(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}b.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,a,i,o,s;return n=t.r/255,r=t.g/255,a=t.b/255,n<=.03928?i=n/12.92:i=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),a<=.03928?s=a/12.92:s=Math.pow((a+.055)/1.055,2.4),.2126*i+.7152*o+.0722*s},setAlpha:function(t){return this._a=Pe(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=$e(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=$e(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),a=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+a+"%)":"hsva("+n+", "+r+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var t=ke(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=ke(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),a=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+a+"%)":"hsla("+n+", "+r+"%, "+a+"%, "+this._roundA+")"},toHex:function(t){return we(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return kt(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(T(this._r,255)*100)+"%",g:Math.round(T(this._g,255)*100)+"%",b:Math.round(T(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(T(this._r,255)*100)+"%, "+Math.round(T(this._g,255)*100)+"%, "+Math.round(T(this._b,255)*100)+"%)":"rgba("+Math.round(T(this._r,255)*100)+"%, "+Math.round(T(this._g,255)*100)+"%, "+Math.round(T(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Ft[we(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+De(this._r,this._g,this._b,this._a),r=n,a=this._gradientType?"GradientType = 1, ":"";if(t){var i=b(t);r="#"+De(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,a=this._a<1&&this._a>=0,i=!n&&a&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return i?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return b(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(xt,arguments)},brighten:function(){return this._applyModification(St,arguments)},darken:function(){return this._applyModification(Rt,arguments)},desaturate:function(){return this._applyModification($t,arguments)},saturate:function(){return this._applyModification(wt,arguments)},greyscale:function(){return this._applyModification(Dt,arguments)},spin:function(){return this._applyModification(Tt,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(At,arguments)},complement:function(){return this._applyCombination(Ct,arguments)},monochromatic:function(){return this._applyCombination(Ht,arguments)},splitcomplement:function(){return this._applyCombination(Yt,arguments)},triad:function(){return this._applyCombination(xe,[3])},tetrad:function(){return this._applyCombination(xe,[4])}};b.fromRatio=function(e,t){if(ce(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=Z(e[r]));e=n}return b(e,t)};function bt(e){var t={r:0,g:0,b:0},n=1,r=null,a=null,i=null,o=!1,s=!1;return typeof e=="string"&&(e=Bt(e)),ce(e)=="object"&&(I(e.r)&&I(e.g)&&I(e.b)?(t=_t(e.r,e.g,e.b),o=!0,s=String(e.r).substr(-1)==="%"?"prgb":"rgb"):I(e.h)&&I(e.s)&&I(e.v)?(r=Z(e.s),a=Z(e.v),t=yt(e.h,r,a),o=!0,s="hsv"):I(e.h)&&I(e.s)&&I(e.l)&&(r=Z(e.s),i=Z(e.l),t=Mt(e.h,r,i),o=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=Pe(n),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function _t(e,t,n){return{r:T(e,255)*255,g:T(t,255)*255,b:T(n,255)*255}}function ke(e,t,n){e=T(e,255),t=T(t,255),n=T(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),i,o,s=(r+a)/2;if(r==a)i=o=0;else{var l=r-a;switch(o=s>.5?l/(2-r-a):l/(r+a),r){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4;break}i/=6}return{h:i,s:o,l:s}}function Mt(e,t,n){var r,a,i;e=T(e,360),t=T(t,100),n=T(n,100);function o(u,h,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?u+(h-u)*6*c:c<1/2?h:c<2/3?u+(h-u)*(2/3-c)*6:u}if(t===0)r=a=i=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=o(l,s,e+1/3),a=o(l,s,e),i=o(l,s,e-1/3)}return{r:r*255,g:a*255,b:i*255}}function $e(e,t,n){e=T(e,255),t=T(t,255),n=T(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),i,o,s=r,l=r-a;if(o=r===0?0:l/r,r==a)i=0;else{switch(r){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4;break}i/=6}return{h:i,s:o,v:s}}function yt(e,t,n){e=T(e,360)*6,t=T(t,100),n=T(n,100);var r=Math.floor(e),a=e-r,i=n*(1-t),o=n*(1-a*t),s=n*(1-(1-a)*t),l=r%6,u=[n,o,i,i,s,n][l],h=[s,n,n,o,i,i][l],c=[i,i,s,n,n,o][l];return{r:u*255,g:h*255,b:c*255}}function we(e,t,n,r){var a=[P(Math.round(e).toString(16)),P(Math.round(t).toString(16)),P(Math.round(n).toString(16))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function kt(e,t,n,r,a){var i=[P(Math.round(e).toString(16)),P(Math.round(t).toString(16)),P(Math.round(n).toString(16)),P(Be(r))];return a&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function De(e,t,n,r){var a=[P(Be(r)),P(Math.round(e).toString(16)),P(Math.round(t).toString(16)),P(Math.round(n).toString(16))];return a.join("")}b.equals=function(e,t){return!e||!t?!1:b(e).toRgbString()==b(t).toRgbString()};b.random=function(){return b.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function $t(e,t){t=t===0?0:t||10;var n=b(e).toHsl();return n.s-=t/100,n.s=oe(n.s),b(n)}function wt(e,t){t=t===0?0:t||10;var n=b(e).toHsl();return n.s+=t/100,n.s=oe(n.s),b(n)}function Dt(e){return b(e).desaturate(100)}function xt(e,t){t=t===0?0:t||10;var n=b(e).toHsl();return n.l+=t/100,n.l=oe(n.l),b(n)}function St(e,t){t=t===0?0:t||10;var n=b(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),b(n)}function Rt(e,t){t=t===0?0:t||10;var n=b(e).toHsl();return n.l-=t/100,n.l=oe(n.l),b(n)}function Tt(e,t){var n=b(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,b(n)}function Ct(e){var t=b(e).toHsl();return t.h=(t.h+180)%360,b(t)}function xe(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=b(e).toHsl(),r=[b(e)],a=360/t,i=1;i<t;i++)r.push(b({h:(n.h+i*a)%360,s:n.s,l:n.l}));return r}function Yt(e){var t=b(e).toHsl(),n=t.h;return[b(e),b({h:(n+72)%360,s:t.s,l:t.l}),b({h:(n+216)%360,s:t.s,l:t.l})]}function At(e,t,n){t=t||6,n=n||30;var r=b(e).toHsl(),a=360/n,i=[b(e)];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,i.push(b(r));return i}function Ht(e,t){t=t||6;for(var n=b(e).toHsv(),r=n.h,a=n.s,i=n.v,o=[],s=1/t;t--;)o.push(b({h:r,s:a,v:i})),i=(i+s)%1;return o}b.mix=function(e,t,n){n=n===0?0:n||50;var r=b(e).toRgb(),a=b(t).toRgb(),i=n/100,o={r:(a.r-r.r)*i+r.r,g:(a.g-r.g)*i+r.g,b:(a.b-r.b)*i+r.b,a:(a.a-r.a)*i+r.a};return b(o)};b.readability=function(e,t){var n=b(e),r=b(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};b.isReadable=function(e,t,n){var r=b.readability(e,t),a,i;switch(i=!1,a=Ot(n),a.level+a.size){case"AAsmall":case"AAAlarge":i=r>=4.5;break;case"AAlarge":i=r>=3;break;case"AAAsmall":i=r>=7;break}return i};b.mostReadable=function(e,t,n){var r=null,a=0,i,o,s,l;n=n||{},o=n.includeFallbackColors,s=n.level,l=n.size;for(var u=0;u<t.length;u++)i=b.readability(e,t[u]),i>a&&(a=i,r=b(t[u]));return b.isReadable(e,r,{level:s,size:l})||!o?r:(n.includeFallbackColors=!1,b.mostReadable(e,["#fff","#000"],n))};var me=b.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Ft=b.hexNames=Lt(me);function Lt(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Pe(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function T(e,t){Et(e)&&(e="100%");var n=Pt(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function oe(e){return Math.min(1,Math.max(0,e))}function L(e){return parseInt(e,16)}function Et(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function Pt(e){return typeof e=="string"&&e.indexOf("%")!=-1}function P(e){return e.length==1?"0"+e:""+e}function Z(e){return e<=1&&(e=e*100+"%"),e}function Be(e){return Math.round(parseFloat(e)*255).toString(16)}function Se(e){return L(e)/255}var E=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",a="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+a),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function I(e){return!!E.CSS_UNIT.exec(e)}function Bt(e){e=e.replace(mt,"").replace(vt,"").toLowerCase();var t=!1;if(me[e])e=me[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=E.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=E.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=E.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=E.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=E.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=E.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=E.hex8.exec(e))?{r:L(n[1]),g:L(n[2]),b:L(n[3]),a:Se(n[4]),format:t?"name":"hex8"}:(n=E.hex6.exec(e))?{r:L(n[1]),g:L(n[2]),b:L(n[3]),format:t?"name":"hex"}:(n=E.hex4.exec(e))?{r:L(n[1]+""+n[1]),g:L(n[2]+""+n[2]),b:L(n[3]+""+n[3]),a:Se(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=E.hex3.exec(e))?{r:L(n[1]+""+n[1]),g:L(n[2]+""+n[2]),b:L(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function Ot(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}function U(e,t,n){return e<t?t:e>n?n:e}function de(e,t){const n=b(e),{_a:r}=n;return r==null&&n.setAlpha(t||1),n}function zt(e,t){const n=t&&t.a;if(t){if(t.hsl)return de(t.hsl,n);if(t.hex&&t.hex.length>0)return de(t.hex,n)}return de(t,n)}function Qt(e,t){const n=e===""?"#2d8cf0":e,r=zt(e,n),a=r.toHsl(),i=r.toHsv();return a.s===0&&(a.h=n.h||n.hsl&&n.hsl.h||t||0,i.h=a.h),i.v<.0164&&(i.h=n.h||n.hsv&&n.hsv.h||0,i.s=n.s||n.hsv&&n.hsv.s||0),a.l<.01&&(a.h=n.h||n.hsl&&n.hsl.h||0,a.s=n.s||n.hsl&&n.hsl.s||0),{hsl:a,hex:r.toHexString().toUpperCase(),rgba:r.toRgb(),hsv:i,oldHue:n.h||t||a.h,source:n.source,a:n.a||r.getAlpha()}}function Re(e){const{r:t,g:n,b:r,a}=e;return`rgba(${[t,n,r,a].join(",")})`}const It=R('<div class="cm-saturation"><div class="cm-saturation-white"></div><div class="cm-saturation-black"></div><div class="cm-saturation-pointer"><div class="cm-saturation-circle">');function pt(e){let t;const n=s=>{if(typeof s.button=="number"&&s.button!==0)return!1;a(s),document.addEventListener("mousemove",a,!1),document.addEventListener("mouseup",r,!1)},r=s=>{a(s),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",r)};ve(()=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",r)});const a=s=>{s.preventDefault(),s.stopPropagation();const{clientWidth:l,clientHeight:u}=t,h=t.getBoundingClientRect().left+window.screenX,c=t.getBoundingClientRect().top+window.screenY,g=U(s.clientX-h,0,l),_=U(s.clientY-c,0,u),w=g/l,m=U(1-_/u,0,1);e.onChange&&e.onChange({h:e.value.hsv.h,s:w,v:m,a:e.value.hsv.a,source:"hsva"})},i=()=>({background:`hsl(${e.value.hsv.h}, 100%, 50%)`}),o=()=>({top:`${-(e.value.hsv.v*100)+1+100}%`,left:`${e.value.hsv.s*100}%`});return(()=>{const s=It(),l=s.firstChild,u=l.nextSibling,h=u.nextSibling,c=t;return typeof c=="function"?p(c,s):t=s,s.$$mousedown=n,j(g=>{const _=i(),w=o();return g._v$=ne(s,_,g._v$),g._v$2=ne(h,w,g._v$2),g},{_v$:void 0,_v$2:void 0}),s})()}V(["mousedown"]);const Nt=R('<div class="cm-color-picker-hue"><div class="cm-color-picker-hue-wrap"><div class="cm-color-picker-hue-pointer">');function en(e){const[t,n]=G(U(e.value.hsl.h*100/360,0,100));let r;const a=l=>{if(typeof l.button=="number"&&l.button!==0)return!1;o(l),document.addEventListener("mousemove",o,!1),document.addEventListener("mouseup",i,!1)},i=l=>{o(l),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",i)};ve(()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",i)});const o=l=>{l.preventDefault(),l.stopPropagation();const{clientWidth:u}=r,h=r.getBoundingClientRect().left+window.screenX,c=l.clientX-h;if(c<0){s(0);return}if(c>u){s(100);return}s(c*100/u)},s=l=>{n(U(l,0,100));const{h:u,s:h,l:c,a:g}=e.value.hsl,_=U(l/100*360,0,360);u!==_&&e.onChange&&e.onChange({h:_,s:h,l:c,a:g,source:"hsl"})};return W(()=>{n(U(e.value.hsl.h*100/360,0,100))}),(()=>{const l=Nt(),u=l.firstChild,h=u.firstChild,c=r;return typeof c=="function"?p(c,l):r=l,u.$$mousedown=a,h.style.setProperty("top","0"),j(()=>`${t()}%`!=null?h.style.setProperty("left",`${t()}%`):h.style.removeProperty("left")),l})()}V(["mousedown"]);const Vt=R('<div class="cm-color-picker-alpha"><div class="cm-color-picker-alpha-wrap"><div class="cm-color-picker-alpha-picker">');function tn(e){const[t,n]=G(e.value.hsl.a*100),r=()=>{const{r:u,g:h,b:c}=e.value.rgba,g=Re({r:u,g:h,b:c,a:0}),_=Re({r:u,g:h,b:c,a:1});return{background:`linear-gradient(to right, ${g} 0%, ${_} 100%)`}};let a;const i=u=>{if(typeof u.button=="number"&&u.button!==0)return!1;s(u),document.addEventListener("mousemove",s,!1),document.addEventListener("mouseup",o,!1)},o=u=>{s(u),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",o)};ve(()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",o)});const s=u=>{u.preventDefault(),u.stopPropagation();const{clientWidth:h}=a,c=a.getBoundingClientRect().left+window.screenX,g=u.clientX-c;if(g<0){l(0);return}if(g>h){l(1);return}l(Math.round(g*100/h)/100)},l=u=>{n(u*100);const{h,s:c,l:g,a:_}=e.value.hsl;_!==u&&e.onChange&&e.onChange({h,s:c,l:g,a:u,source:"rgba"})};return W(()=>{n(e.value.hsl.a*100)}),(()=>{const u=Vt(),h=u.firstChild,c=h.firstChild,g=a;return typeof g=="function"?p(g,u):a=u,h.$$mousedown=i,c.style.setProperty("top","0px"),j(_=>{const w=r(),m=`${t()}%`;return _._v$=ne(h,w,_._v$),m!==_._v$2&&((_._v$2=m)!=null?c.style.setProperty("left",m):c.style.removeProperty("left")),_},{_v$:void 0,_v$2:void 0}),u})()}V(["mousedown"]);const jt=R('<div class="cm-color-picker-recommend"><div class="cm-color-picker-recommend-container">'),Gt=R('<div class="cm-color-picker-recommend-color"><div>'),Xt=R("<br>");function nn(e){const t=e.colors??["#2d8cf0","#19be6b","#ff9900","#ed4014","#00b5ff","#19c919","#f9e31c","#ea1a1a","#9b1dea","#00c2b1","#ac7a33","#1d35ea","#8bc34a","#f16b62","#ea4ca3","#0d94aa","#febd79","#5d4037","#00bcd4","#f06292","#cddc39","#607d8b","#000000","#ffffff"],n=r=>{e.onChange&&e.onChange({hex:r,source:"hex"})};return(()=>{const r=jt(),a=r.firstChild;return y(a,f(K,{each:t,children:(i,o)=>[(()=>{const s=Gt(),l=s.firstChild;return s.$$click=()=>n(i),i!=null?l.style.setProperty("background",i):l.style.removeProperty("background"),s})(),f(F,{get when(){return(o()+1)%12===0},get children(){return Xt()}})]})),r})()}V(["click"]);export{tn as A,Jt as D,en as H,nn as R,pt as S,Kt as T,Qt as c,Re as t};
