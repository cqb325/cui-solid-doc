import{c as Y,A,g as x,s as B,t as L,z as j,a as I,a0 as M,m as q,i as _,p as Z,j as p,q as tt,e as b,u as O,f as et,h as J,d as W,r as nt,b as P,J as ot,v as R,w as st,n as ct,U as D,F as rt}from"./index-452b01fb.js";function it(){const[t,f]=Y(!1);return[t,()=>{f(!0),setTimeout(()=>{f(!1)},1e3)}]}const lt=L('<span class="cm-loading"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38 38"><g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".5" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18" transform="rotate(113.635 18 18)"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite">'),G=({size:t=14,color:f="#fff"})=>(()=>{const i=lt(),m=i.firstChild;return A(m,"width",t),A(m,"height",t),A(m,"stroke",f),x(o=>B(i,`width: ${t}px; height: ${t}px`,o)),i})(),at=L("<div>"),K=Z();function yt(t){const f=()=>p(t,{"cm-button-group":!0}),[i,m]=j(t,["classList","children","type","size","disabled"]);return I(K.Provider,{get value(){return{type:i.type,size:i.size,disabled:i.disabled}},get children(){const o=at();return M(o,q({get classList(){return f()}},m),!1,!0),_(o,()=>i.children),o}})}const N=L('<span class="cm-button-icon">'),ut=L('<button type="button">'),dt=L("<a>"),bt=t=>{const[f,i]=it(),m=t.iconAlign||"left",o=tt(K),l=()=>t.type||o?.type,$=()=>t.size||o?.size,g=()=>t.disabled||o?.disabled,v=()=>p(t,{"cm-button":!0,[`cm-button-icon-${m}`]:!0,"cm-click-animating":f(),"cm-button-ghost":t.ghost,"cm-button-block":t.block,[`cm-button-${l()}`]:l(),[`cm-button-${$()}`]:$(),"cm-button-active":t.active,"cm-button-circle":t.circle,"cm-button-icon-only":!!t.icon&&!t.children,"cm-button-empty":!t.icon&&!t.children}),[r,h]=j(t,["classList","class","onClick","link","style","title","type","block","size","active","circle","icon","children","iconAlign","disabled","loading","ghost","ref"]);function w(u){g()||r.loading||r.onClick&&r.onClick(u)}const S=m==="left"?[b((()=>{const u=b(()=>!!r.loading);return()=>u()?I(G,{}):(()=>{const k=b(()=>!!r.icon);return()=>k()?(()=>{const T=N();return _(T,()=>r.icon),T})():null})()})()),b(()=>r.children)]:[b(()=>r.children),b((()=>{const u=b(()=>!!r.loading);return()=>u()?I(G,{}):(()=>{const k=b(()=>!!r.icon);return()=>k()?(()=>{const T=N();return _(T,()=>r.icon),T})():null})()})())];return I(et,{get when(){return!r.link},get fallback(){return(()=>{const u=dt(),k=r.ref;return typeof k=="function"?O(k,u):r.ref=u,M(u,q({get classList(){return v()},get style(){return r.style},get title(){return r.title}},h,{onMouseUp:i,onClick:w}),!1,!0),_(u,S),u})()},get children(){const u=ut(),k=r.ref;return typeof k=="function"?O(k,u):r.ref=u,M(u,q({get classList(){return v()},get style(){return r.style},get title(){return r.title},get disabled(){return g()}},h,{onMouseUp:i,onClick:w}),!1,!0),_(u,S),u}})},ft=L('<div><div class="cm-card-body">'),ht=L('<div class="cm-card-head">'),mt=L('<div class="cm-card-footer">');function Lt(t){const f=()=>p(t,"cm-card",{"cm-card-bordered":t.bordered,"cm-card-rised":t.rised});return(()=>{const i=ft(),m=i.firstChild;return _(i,(()=>{const o=b(()=>!!t.title);return()=>o()?(()=>{const l=ht();return _(l,()=>t.title),l})():null})(),m),_(m,()=>t.children),_(i,(()=>{const o=b(()=>!!t.footer);return()=>o()?(()=>{const l=mt();return _(l,()=>t.footer),l})():null})(),null),x(o=>{const l=f(),$=t.style,g=t.bodyStyle;return o._v$=J(i,l,o._v$),o._v$2=B(i,$,o._v$2),o._v$3=B(m,g,o._v$3),o},{_v$:void 0,_v$2:void 0,_v$3:void 0}),i})()}function $t(t,f=0,i,m=500,o){window.requestAnimationFrame||(window.requestAnimationFrame=function(v){return window.setTimeout(v,1e3/60)});const l=Math.abs(f-i),$=Math.ceil(l/m*50);function g(v,r,h){if(v===r){o&&o();return}let w=v+h>r?r:v+h;v>r&&(w=v-h<r?r:v-h),t===window?window.scrollTo(w,w):t.scrollTop=w,window.requestAnimationFrame(()=>g(w,r,h))}g(f,i,$)}function gt(t){const f=W(()=>t.children),i=()=>f.toArray();return t.subItems=i,t}const vt=L('<div class="cm-anchor-link"><a class="cm-anchor-link-title">'),_t=L('<div><div class="cm-anchor-wrapper"><div class="cm-anchor-inner"><div><span class="cm-anchor-ink-ball">');function kt(t){const f=()=>p(t,"cm-anchor"),i=W(()=>t.children),m=()=>i.toArray(),[o,l]=nt({inkTop:0,inkHeight:0,currentId:"",currentLink:"",animating:!1,links:[],upperFirstTitle:!0});P(()=>{l("links",m())});let $=null,g=null,v=0,r=t.bounds||5,h=[],w=t.mode??"hash",S=t.showInk??!1;const u=()=>{let n;if(w==="hash"){const e=window.location.href;n=/#([^#]+)$/.exec(e)}else{let e=window.location.href;const a=e.includes("?")?e.split("?")[1]:"",s=new URLSearchParams(a);s.has("_to")&&s.get("_to")&&(n=[],n[0]=s.get("_to"),n[1]=s.get("_to")?.replace("#",""))}if(!n){setTimeout(()=>{const e=document.documentElement.scrollTop||document.body.scrollTop;H(e)},10);return}l("currentLink",n[0]),l("currentId",n[1])},k=()=>{$&&$.removeEventListener("scroll",T),window.removeEventListener("hashchange",u)},T=n=>{if(o.animating)return;const e=document.documentElement.scrollTop||document.body.scrollTop||n.target.scrollTop;H(e)},F=()=>{const n=document.getElementById(o.currentId),e=document.querySelector(`a[data-href="${o.currentLink}"]`);let a=t.scrollOffset||0;if(e&&(a=parseFloat(e.getAttribute("data-scroll-offset"))),!n)return;const s=n.offsetTop-v-a;l("animating",!0),$t($,g.scrollTop,s,600,()=>{l("animating",!1)})};P(()=>{o.currentLink;const n=document.querySelector(`a[data-href="${o.currentLink}"]`)?.parentElement;if(!n)return;const e=n.offsetTop,a=n.getBoundingClientRect().height,s=a/4,c=e<0?t.offsetTop||0:e;D(()=>{l("inkTop",c+s/2),l("inkHeight",a*3/4)})});const z=()=>{$=t.container?typeof t.container=="string"?document.querySelector(t.container):t.container:window,g=t.container?$:document.documentElement||document.body},H=n=>{let e=-1,a=h.length,s={link:"#",offset:0};for(n+=r;++e<a;){let c=h[e],d=h[e+1];if(n>=c.offset&&n<(d&&d.offset||1/0)){s=h[e];break}}l("currentLink",s.link)},Q=()=>$===window,V=()=>{u(),setTimeout(()=>{k(),z(),v=Q()?0:g.offsetTop,F(),$.addEventListener("scroll",T),window.addEventListener("hashchange",u)},0)};P(()=>{const n=o.links.map(e=>e.href);D(()=>{const e=n.map(s=>s.split("#")[1]);g||z();const a=[];e.forEach(s=>{const c=document.getElementById(s);c&&a.push({link:`#${s}`,offset:c.offsetTop-g.offsetTop})}),h=a})});const X=(n,e)=>{if(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),l("currentLink",n),l("currentId",n.replace("#","")),F(),w==="hash")window.location.hash=n;else{let a=window.location.href;const s=a.includes("?")?a.split("?")[1]:"",c=location.hash.indexOf("?"),d=c>-1?location.hash.substring(0,c):location.hash,y=new URLSearchParams(s);y.set("_to",n),window.history.replaceState({},"",`${location.pathname}${d}?${y.toString()}`)}};ot(()=>{V();let n=setInterval(()=>{o.links.map(s=>s.href).map(s=>s.split("#")[1]).forEach((s,c)=>{const d=document.getElementById(s);if(d){const y=d.offsetTop-g.offsetTop;h[c]&&h[c].offset!==y&&(h[c].offset=y)}})},500);R(()=>{clearInterval(n)})}),R(()=>{k()});const U=n=>n&&n.length?I(rt,{each:n,children:e=>(()=>{const a=vt(),s=a.firstChild;return s.$$click=c=>{X(e.href,c)},_(s,()=>e.title),_(a,()=>U(e.subItems()),null),x(c=>{const d=e.href,y=t.scrollOffset||0,C=e.href,E=e.title;return d!==c._v$&&A(s,"href",c._v$=d),y!==c._v$2&&A(s,"data-scroll-offset",c._v$2=y),C!==c._v$3&&A(s,"data-href",c._v$3=C),E!==c._v$4&&A(s,"title",c._v$4=E),c},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),a})()}):null;return(()=>{const n=_t(),e=n.firstChild,a=e.firstChild,s=a.firstChild,c=s.firstChild;return st(s,"cm-anchor-ink "+(S?"cm-anchor-show":"")),_(a,()=>U(o.links),null),x(d=>{const y=f(),C=`${o.inkTop}px`,E=`${o.inkHeight}px`;return d._v$5=J(n,y,d._v$5),C!==d._v$6&&((d._v$6=C)!=null?c.style.setProperty("top",C):c.style.removeProperty("top")),E!==d._v$7&&((d._v$7=E)!=null?c.style.setProperty("height",E):c.style.removeProperty("height")),d},{_v$5:void 0,_v$6:void 0,_v$7:void 0}),n})()}kt.Link=gt;ct(["click"]);export{kt as A,bt as B,Lt as C,G as L,yt as a,$t as s};
