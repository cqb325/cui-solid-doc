import{e as B,i as c,a as t,aB as P,o as L,_ as O,I as F,h as M,aU as J,F as N,j as V,s as z,t as v,ak as R,ah as U,a0 as q,B as A,k as G,l as H,c as K,u as Q,S as m,T as y,P as C,d as T}from"./index-6b593c43.js";import{T as b}from"./Title-4bfa7384.js";import{C as S}from"./index-92015a99.js";import{D as I,a as E,C as W}from"./code-5b64fce7.js";import{p as X,e as Y}from"./columns-cd2d5c33.js";import{h as Z}from"./hljs-409c3200.js";const p=v("<div><span>"),ee=v('<div class="">'),te=v('<div class="cm-transfer-filter-wrap">'),re=v('<div class="cm-transfer-list"><div class="cm-transfer-list-header"></div><div class="cm-transfer-list-body"><div class="cm-transfer-list-content">');function k(e){const f=()=>({width:e.width?`${e.width}px`:"",height:e.height?`${e.height}px`:""}),u=()=>{const r=e.value||[],n={};return r.forEach(i=>{n[i]=!0}),e.store.data.filter(i=>e.name==="source"?!n[i.id]:n[i.id])},g=()=>{let r=0;return u().forEach(n=>{n.disabled||r++}),r},s=r=>{e.onSelect(r,!r._checked),r._checked?e.setStore(`${e.name}Ids`,[...e.store[`${e.name}Ids`],r.id]):e.setStore(`${e.name}Ids`,R(n=>{n.splice(n.indexOf(r.id),1)}))},d=()=>{const r=e.store[`${e.name}Ids`];return r.length>0?g()===r.length?!0:"indeterminate":!1},o=r=>{const n=[],i=u();i.forEach(h=>{e.onSelect(h,r)}),i.forEach(h=>{h._checked&&n.push(h.id)}),e.setStore(`${e.name}Ids`,n)};B(()=>{e.store[`${e.name}Ids`].length?e.setStore&&e.setStore(`${e.name}Disabled`,!1):e.setStore&&e.setStore(`${e.name}Disabled`,!0)});const $=r=>{u().forEach(i=>{const h=()=>e.render?e.render(i):i.title;e.setStore("data",l=>l.id===i.id,"_hide",!h().includes(r))})},_=()=>u().length,a=()=>{const r=e.store[`${e.name}Ids`];return r.length?r.length+"/"+_():_()};return(()=>{const r=re(),n=r.firstChild,i=n.nextSibling,h=i.firstChild;return c(n,t(L,{get children(){return[(()=>{const l=p(),w=l.firstChild;return c(l,t(P,{get checked(){return d()},onChange:o}),w),c(w,()=>e.name==="source"?"源列表":"目标列表"),l})(),(()=>{const l=ee();return c(l,a),l})()]}})),c(i,t(M,{get when(){return e.filter},get children(){const l=te();return c(l,t(O,{get append(){return t(F,{name:"search"})},size:"small",onInput:$})),l}}),h),c(h,t(N,{get each(){return u()},children:l=>t(J,{data:l,onSelect:s,get store(){return e.store},get render(){return e.render}})})),V(l=>z(r,f(),l)),r})()}const ne=v('<div><div class="cm-transfer-operation">');function D(e){const[f,u]=U(e,[]),g=()=>H(e,"cm-transfer"),[s,d]=q({data:[],sourceDisabled:!0,targetDisabled:!0,sourceIds:[],targetIds:[]});B(()=>{d("data",e.data||[])});const o=(a,r)=>{a.disabled||d("data",n=>n.id===a.id,"_checked",r)},$=()=>{s.sourceIds.forEach(r=>{d("data",n=>n.id===r,"_checked",!1)});let a=f();a=a.concat([...s.sourceIds]),d("sourceIds",[]),u([...a]),e.onChange&&e.onChange([...a])},_=()=>{s.targetIds.forEach(r=>{d("data",n=>n.id===r,"_checked",!1)});let a=f();s.targetIds.forEach(r=>{a.splice(a.indexOf(r),1)}),d("targetIds",[]),u([...a]),e.onChange&&e.onChange([...a])};return(()=>{const a=ne(),r=a.firstChild;return c(a,t(k,{get width(){return e.width},get height(){return e.height},store:s,setStore:d,name:"source",get value(){return f()},onSelect:o,get filter(){return e.filter},get render(){return e.render}}),r),c(r,t(A,{get disabled(){return s.sourceDisabled},get icon(){return t(F,{name:"chevron-right"})},size:"small",onClick:$,children:"To Right"}),null),c(r,t(A,{get disabled(){return s.targetDisabled},get icon(){return t(F,{name:"chevron-left"})},size:"small",onClick:_,children:"To Left"}),null),c(a,t(k,{get width(){return e.width},get height(){return e.height},store:s,setStore:d,name:"target",get value(){return f()},onSelect:o,get filter(){return e.filter},get render(){return e.render}}),null),V(n=>{const i=g(),h=e.style;return n._v$=G(a,i,n._v$),n._v$2=z(a,h,n._v$2),n},{_v$:void 0,_v$2:void 0}),a})()}const ae=`const data = [];
for (let i = 0; i < 15; i++) {
    const disabled = Math.random() < 0.4 ? true : false;
    const obj = {
        id: i,
        disabled,
        title: 'Content_'+ i
    };
    data.push(obj)
}
const [value, setValue] = createSignal([2,5,7])

<Transfer width={250} height={300} data={data} value={[value, setValue]}/>`,se=`const data = [];
for (let i = 0; i < 15; i++) {
    const disabled = Math.random() < 0.4 ? true : false;
    const obj = {
        id: i,
        disabled,
        title: 'Content_'+ i
    };
    data.push(obj)
}
const [value, setValue] = createSignal([2,5,7])

<Transfer width={250} height={300} data={data} value={[value, setValue]} filter/>`,ie=`const data = [];
for (let i = 0; i < 15; i++) {
    const disabled = Math.random() < 0.4 ? true : false;
    const obj = {
        id: i,
        disabled,
        title: 'Content_'+ i
    };
    data.push(obj)
}
const [value, setValue] = createSignal([2,5,7])

<Transfer width={250} height={300} data={data} value={[value, setValue]} render={(item: any) => {
    return <BothSide><span>{item.id}</span><span>{item.title}</span></BothSide>
}}/>`,de=[{name:"classList",desc:"自定义class",type:"Object",default:""},{name:"class",desc:"自定义class",type:"string",default:""},{name:"style",desc:"自定义样式",type:"Object",default:""},{name:"name",desc:"name属性",type:"string",default:""},{name:"value",desc:"值，可控属性",type:"Function[]",default:""},{name:"width",desc:"单个list的宽度",type:"number",default:""},{name:"height",desc:"单个list的高度",type:"number",default:""},{name:"data",desc:"列表的数据项",type:"Array",default:""},{name:"filter",desc:"可过滤",type:"boolean",default:""},{name:"render",desc:"自定义渲染",type:"Function",default:""},{name:"onChange",desc:"值改变事件",type:"Function",default:""}],le=[{name:"onChange",desc:"值改变事件",params:"value"}],ce=[{id:"transfer_base",text:"基础用法"},{id:"transfer_filter",text:"过滤"},{id:"transfer_render",text:"自定义渲染"},{id:"comp_api",text:"API"},{id:"comp_props",text:"属性"},{id:"comp_events",text:"事件"}],x={transfer_base:ae,transfer_filter:se,transfer_render:ie},ue=v('<div class="sys-ctx-main-left">'),j=v("<span>");function _e(){const e=[];for(let s=0;s<15;s++){const d=Math.random()<.4,o={id:s,disabled:d,title:"Content_"+s};e.push(o)}const f=JSON.parse(JSON.stringify(e)),[u,g]=K([2,5,7]);return[(()=>{const s=ue();return Q(Z,s,()=>""),c(s,t(m,{dir:"v",size:32,get children(){return[t(b,{heading:2,children:"Transfer 穿梭框"}),t(m,{id:"transfer_base",dir:"v",get children(){return t(S,{bordered:!0,get children(){return[t(D,{width:250,height:300,data:e,value:[u,g]}),t(I,{align:"left",get children(){return t(y,{type:"primary",children:"基础用法"})}}),t(C,{type:"secondary",spacing:"extended",children:"基础用法"}),t(E,{get data(){return x.transfer_base}})]}})}}),t(m,{id:"transfer_filter",dir:"v",get children(){return t(S,{bordered:!0,get children(){return[t(D,{width:250,height:300,data:f,value:[u,g],filter:!0}),t(I,{align:"left",get children(){return t(y,{type:"primary",children:"过滤"})}}),t(C,{type:"secondary",spacing:"extended",children:"添加 filter 参数可增加过滤功能"}),t(E,{get data(){return x.transfer_filter}})]}})}}),t(m,{id:"transfer_render",dir:"v",get children(){return t(S,{bordered:!0,get children(){return[t(D,{width:250,height:300,data:f,value:[u,g],render:d=>t(L,{get children(){return[(()=>{const o=j();return c(o,()=>d.id),o})(),(()=>{const o=j();return c(o,()=>d.title),o})()]}})}),t(I,{align:"left",get children(){return t(y,{type:"primary",children:"自定义渲染"})}}),t(C,{type:"secondary",spacing:"extended",children:"通过 render 函数可自定义选项的渲染"}),t(E,{get data(){return x.transfer_render}})]}})}}),t(m,{dir:"v",size:24,id:"comp_api",get children(){return[t(b,{type:"primary",heading:3,children:"API"}),t(m,{id:"comp_props",dir:"v",get children(){return[t(b,{type:"primary",heading:4,children:"TimePicker Props"}),t(T,{columns:X,data:de,border:!0,size:"small"})]}}),t(m,{id:"comp_events",dir:"v",get children(){return[t(b,{type:"primary",heading:4,children:"Events"}),t(T,{columns:Y,data:le,border:!0,size:"small"})]}})]}})]}})),s})(),t(W,{data:ce})]}export{_e as default};
