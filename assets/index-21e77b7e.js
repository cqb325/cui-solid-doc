import{c as I,e as V,i as S,a as t,I as F,j as z,s as A,h as T,R as te,t as w,ag as N,ah as K,ai as ne,m as Q,k as U,l as G,_ as D,f as le,g as P,a0 as ae,aj as re,ak as L,al as ie,am as ce,an as ue,ao as se,J as W,u as oe,ap as o,y as ge,aq as he,ar as de,as as me,at as fe,w as ye,au as ve,av as M,S as J,aw as Ce,ax as $e,ay as _e,az as be,B as Y,aA as we}from"./index-602cfbf2.js";import{C as xe}from"./index-74bdede9.js";import{R as ke}from"./index-14187ebd.js";import{R as Se}from"./index-eca86e00.js";import{A as Oe}from"./index-a27daf84.js";import{T as ze}from"./index-a651363b.js";const He=w('<div class="cm-select-color">'),Ee=w('<div class="cm-color-picker-value" tabindex="0"><span>A</span><input type="hidden"><div class="cm-select-color-wrap">'),Ie=w('<div class="cm-select-color cm-select-color-empty">');function Ve(e){const[a,f]=I({});return V(()=>{const y=e.open?{background:`rgba(${e.currentValue.rgba.r},${e.currentValue.rgba.g},${e.currentValue.rgba.b},${e.currentValue.rgba.a})`}:{background:e.value};f(y)}),(()=>{const y=Ee(),g=y.firstChild,C=g.nextSibling,c=C.nextSibling;return g.style.setProperty("width","0px"),g.style.setProperty("font-size","12px"),g.style.setProperty("visibility","hidden"),g.style.setProperty("line-height","initial"),S(c,t(T,{get when(){return a().background},get fallback(){return(()=>{const s=Ie();return S(s,t(F,{name:"x",size:12})),s})()},get children(){const s=He();return z($=>A(s,a(),$)),s}})),z(()=>te(C,"name",e.name)),z(()=>C.value=e.value),y})()}const Be=w('<div><textarea class="cm-input">');function Re(e){const[a,f]=N(e,["classList","class","style","value","autoHeight","disabled","onChange","onInput","onKeyUp","onEnter","name","trigger"]),y=()=>G(a,"cm-textarea","cm-input-wrapper",{"cm-input-disabled":a.disabled,"cm-input-auto-height":a.autoHeight}),[g,C]=K(e,""),c=a.trigger||"blur",s=r=>{},$=r=>{C(r.target.value),a.onChange&&a.onChange(r.target.value)},O=r=>{c==="input"&&(C(r.target.value),a.onChange&&a.onChange(r.target.value)),a.onInput&&a.onInput(r.target.value,r),a.autoHeight&&v(r)},_=r=>{a.onKeyUp&&a.onKeyUp(r.target.value,r),r.keyCode===13&&a.onEnter&&a.onEnter(r.target.value,r)};let h;const v=r=>{const d=r.target;h||(h=d.clientHeight),d.scrollHeight>h&&(d.value.split(`
`).length===1?d.style.height=`${h}px`:d.style.height="auto",d.style.overflowY="hidden",d.scrollTop=0,d.style.height=`${d.scrollHeight}px`)};return(()=>{const r=Be(),d=r.firstChild;return ne(d,Q(f,{get value(){return g()},spellcheck:!1,autocomplete:"off",wrap:"soft",onChange:s,onInput:O,onKeyUp:_,onBlur:$}),!1,!1),z(b=>{const u=y(),m=e.style;return b._v$=U(r,u,b._v$),b._v$2=A(r,m,b._v$2),b},{_v$:void 0,_v$2:void 0}),r})()}function Fe(e){const[a,f]=N(e,["enterButton","onEnter","onSearch"]),y=a.enterButton?null:t(F,{name:"search",style:{cursor:"pointer"},get onClick(){return a.onSearch}});let g=null;return a.enterButton&&(g=typeof a.enterButton=="string"?a.enterButton:t(F,{name:"search",get onClick(){return a.onSearch}})),t(D,Q({get onEnter(){return a.onEnter},suffix:y,append:g},f))}const Ae=w("<div>"),Pe=w('<div class="cm-select-options-wrap"><div class="cm-select-options"><ul class="cm-select-option-list">'),Le=w('<div class="cm-select-filter-wrap">');function Me(e){const[a,f]=I(!1),y=e.align??"bottomLeft",g=le(()=>e.children),C=()=>g.toArray(),[c,s]=K(e,e.multi?[]:""),$=()=>G(e,"cm-select",{"cm-select-disabled":e.disabled,[`cm-select-${e.size}`]:e.size,"cm-select-clearable":!e.disabled&&e.clearable&&`${c()}`.length!==0,"cm-select-multi":e.multi,"cm-select-open":a(),"cm-select-with-prefix":e.prefix});let O;const _=e.textField||"label",h=e.valueField||"value";let v={};function r(l,n){l&&l.forEach(i=>{n.push(i),i._show=!0,v[i[h]]=i,i.items&&r(i.items,n)})}const d=P(()=>{const l=C();v={};let n=[];return e.emptyOption&&n.push({[h]:"",[_]:e.emptyOption,_show:!0,emptyOption:!0}),l&&r(l,n),n}),[b,u]=ae({list:[]});V(()=>{const l=re(()=>c());u("list",d()),u("list",n=>n,L(n=>{e.multi?n._checked=l.includes(n[h]):n._checked=l===n[h]}))}),V(()=>{const l=c();u("list",n=>n,L(n=>{e.multi?n._checked=l.includes(n[h]):n._checked=l===n[h]}))});const m=l=>{if(!(v[l]&&v[l].items&&v[l].items.length))if(e.multi){let n=c();const i=n.indexOf(l);i>-1?n.splice(i,1):(n=[...n],n.push(l)),s([...n]),e.onChange&&e.onChange(n)}else s(l),f(!1),e.onChange&&e.onChange(l)},H=()=>{const l=[];return b.list.forEach(n=>{n._checked&&l.push({id:n[h],title:n[_]})}),e.multi?l.length?l:e.emptyOption?[{id:"",title:e.emptyOption}]:[]:l.length?l[0].title:e.emptyOption?e.emptyOption:""},B=l=>{e.multi?(e.onChange&&e.onChange([]),s([])):(e.onChange&&e.onChange(""),s(""),f(!1))},Z=l=>{u("list",n=>n,L(n=>{n._show=n[_].indexOf(l)>-1}))},p=(l,n)=>{if(e.multi){let i=c();const x=i.indexOf(l.id);x>-1&&i.splice(x,1),s([...i]),e.onChange&&e.onChange(i)}},ee=P(()=>b.list.filter(l=>l._show));return(()=>{const l=Ae(),n=O;return typeof n=="function"?oe(n,l):O=l,S(l,t(W,{get transfer(){return e.transfer},align:y,get disabled(){return e.disabled},trigger:"click",visible:[a,f],get menu(){return(()=>{const i=Pe(),x=i.firstChild,R=x.firstChild;return S(x,(()=>{const E=P(()=>!!e.filter);return()=>E()?(()=>{const k=Le();return S(k,t(X,{notCreateFiled:!0,class:"cm-select-filter",size:"small",clearable:!0,onInput:Z})),k})():null})(),R),S(R,t(ie,{get items(){return ee()},itemEstimatedSize:30,maxHeight:200,children:E=>{const k=E.item;return k.emptyOption?t(ce,{visible:!0,get data(){return{label:k[_],value:""}},get checked(){return c()===""},onClick:B}):t(ue,{ref(j){const q=E.ref;typeof q=="function"?q(j):E.ref=j},get renderOption(){return E.renderOption},get visible(){return k._show},get disabled(){return k.disabled},data:k,get checked(){return k._checked},textField:_,valueField:h,onClick:m})}})),z(()=>(e.maxHeight?`${e.maxHeight}px`:"")!=null?x.style.setProperty("max-height",e.maxHeight?`${e.maxHeight}px`:""):x.style.removeProperty("max-height")),i})()},get children(){return t(se,{get text(){return H()},get multi(){return e.multi},get showMax(){return e.showMax},get disabled(){return e.disabled},get showMore(){return e.showMore},get valueClosable(){return e.valueClosable},get clearable(){return e.clearable},onClear:B,get placeholder(){return e.placeholder},get prepend(){return e.prefix},get size(){return e.size},get icon(){return t(F,{name:"chevron-down",class:"cm-select-cert"})},onClose:p})}})),z(i=>{const x=$(),R=e.style;return i._v$=U(l,x,i._v$),i._v$2=A(l,R,i._v$2),i},{_v$:void 0,_v$2:void 0}),l})()}function X(e){return t(ve,{get fallback(){return t(D,e)},get children(){return[t(o,{get when(){return e.type==="text"||!e.type||e.type==="password"},get children(){return t(D,e)}}),t(o,{get when(){return e.type==="checkbox"},get children(){return t(xe,e)}}),t(o,{get when(){return e.type==="radio"},get children(){return t(ke,e)}}),t(o,{get when(){return e.type==="textarea"},get children(){return t(Re,e)}}),t(o,{get when(){return e.type==="switch"},get children(){return t(ge,e)}}),t(o,{get when(){return e.type==="search"},get children(){return t(Fe,e)}}),t(o,{get when(){return e.type==="spinner"},get children(){return t(he,e)}}),t(o,{get when(){return e.type==="rate"},get children(){return t(Se,e)}}),t(o,{get when(){return e.type==="select"},get children(){return t(Me,e)}}),t(o,{get when(){return e.type==="autocomplete"},get children(){return t(Oe,e)}}),t(o,{get when(){return e.type==="cascader"},get children(){return t(de,e)}}),t(o,{get when(){return e.type==="time"||e.type==="timeRange"},get children(){return t(me,e)}}),t(o,{get when(){return e.type==="date"||e.type==="dateRange"||e.type==="month"||e.type==="monthRange"||e.type==="dateTime"||e.type==="dateTimeRange"},get children(){return t(fe,e)}}),t(o,{get when(){return e.type==="slider"},get children(){return t(ye,e)}}),t(o,{get when(){return e.type==="treeSelect"},get children(){return t(ze,e)}}),t(o,{get when(){return e.type==="color"},get children(){return t(Ue,e)}})]}})}const Te=w("<div>"),De=w('<div class="cm-color-picker-confirm">'),Ke=w('<div class="cm-color-picker-wrap">');function Ue(e){const[a,f]=I(!1),y=e.align??"bottomLeft",[g,C]=K(e,""),[c,s]=I(M(g()||"#2D8CF0")),[$,O]=I("");let _=c();const h=()=>G(e,"cm-color-picker",{[`cm-color-picker-${e.size}`]:e.size}),v=u=>{r(u)},r=(u,m)=>{_=c().hsl.h,s(M(u,m||_))},d=()=>{f(!1),C($()),e.onChange&&e.onChange($())},b=()=>{f(!1),C(""),e.onChange&&e.onChange("")};return V(()=>{e.alpha?O(we(c().rgba)):O(c().hex)}),V(()=>{const u=M($());s(u)}),(()=>{const u=Te();return S(u,t(W,{get transfer(){return e.transfer},align:y,get disabled(){return e.disabled},trigger:"click",visible:[a,f],get menu(){return(()=>{const m=Ke();return S(m,t(J,{dir:"v",get children(){return[t(Ce,{get value(){return c()},onChange:v}),t($e,{get value(){return c()},onChange:v}),t(T,{get when(){return e.alpha},get children(){return t(_e,{get value(){return c()},onChange:v})}}),t(T,{get when(){return e.recommend},get children(){return t(be,{get colors(){return e.colors},onChange:v})}}),(()=>{const H=De();return S(H,t(J,{dir:"h",get children(){return[t(X,{size:"small",class:"cm-color-picker-input",value:[$,O]}),t(Y,{size:"small",type:"default",onClick:b,children:"清除"}),t(Y,{size:"small",type:"primary",onClick:d,children:"确定"})]}})),H})()]}})),m})()},get children(){return t(Ve,{get disabled(){return e.disabled},get size(){return e.size},get currentValue(){return c()},get value(){return g()},get open(){return a()}})}})),z(m=>{const H=h(),B=e.style;return m._v$=U(u,H,m._v$),m._v$2=A(u,B,m._v$2),m},{_v$:void 0,_v$2:void 0}),u})()}export{Ue as C,X as I,Me as S};
