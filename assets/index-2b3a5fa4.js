import{c as E,i as u,a as f,F as k,h as L,t as M,s as R,j as S,k as w}from"./index-69f0698f.js";import{R as y}from"./Item-d1e5d1c8.js";import{c as F}from"./createField-bb19acb2.js";const b=M("<div><span>");function j(t){const d=()=>w(t,"cm-rate",{"cm-rate-disabled":t.disabled});if(!t.icon)return console.warn("need icon property"),null;const[c,l]=F(t,0),[m,o]=E(c()),r=t.allowHalf||!1,v=e=>{o(e)},C=(e,n)=>{r&&(n.preventDefault(),n.stopPropagation(),o(e))},h=()=>{o(c())},g=e=>{l(e),t.onChange&&t.onChange(e)},$=(e,n)=>{n.preventDefault(),n.stopPropagation(),r&&(l(e),t.onChange&&t.onChange(e))},H=t.count||5,i=[];for(let e=0;e<H;e++)i.push({id:e,value:e});return(()=>{const e=b(),n=e.firstChild;return e.addEventListener("mouseleave",h),u(e,f(k,{each:i,children:(a,s)=>f(y,{get index(){return s()},onMouseEnterHalf:C,onClickHalfStar:$,onMouseEnter:v,onClickStar:g,get icon(){return t.icon},allowHalf:r,current:[m,o]})}),n),u(n,()=>t.children),L(a=>{const s=t.style,_=d();return a._v$=R(e,s,a._v$),a._v$2=S(e,_,a._v$2),a},{_v$:void 0,_v$2:void 0}),e})()}export{j as R};
