import{o as ae,c as w,r as re,X as le,i as s,a as e,u as O,F as M,N,e as se,g as v,f as ce,n as oe,t as x,Y as R,w as me,A as ue,h as G,s as he,j as pe,S as u,T as $}from"./index-0246dc72.js";import{h as xe}from"./hljs-74a5c6d1.js";import{D as A,a as E,C as ge}from"./code-558518d5.js";import{T as U,p as V}from"./columns-43b26f11.js";import{T as F}from"./Title-b2de7444.js";import{C as D}from"./index-f479a69a.js";import{P as L}from"./Paragraph-7a7dff1a.js";import{C as fe}from"./index-480a9af0.js";import"./_commonjsHelpers-725317a4.js";import"./createField-e5d4a55a.js";const ye=`const data = [{
    id: 'A', name: '安徽',
    children: [{name: '合肥', id: '1'},{name: '芜湖', id: '2'},{name: '蚌埠', id: '3'},{name: '淮南', id: '4'},{name: '马鞍山', id: '5'}
    ,{name: '淮北', id: '6'},{name: '铜陵', id: '7'},{name: '安庆', id: '8'}],
},{
    id: 'B', name: '北京',
    children: [{name: '北京市', id: '北京市'}],
}, {
    id: 'C', name: '重庆',
    children: [{name: '重庆市', id: '重庆市'}]
}, {
    id: 'F', name: '福建',
    children: [{name: '福州市', id: '福州市'}, {name: '厦门市', id: '厦门市'}, {name: '莆田市', id: '莆田市'}, {name: '三明市', id: '三明市'}]
}, {
    id: 'G', name: '甘肃',
    children: [{name: '兰州市', id: '兰州市'}, {name: '嘉峪关市', id: '嘉峪关市'}, {name: '金昌市', id: '金昌市'}, {name: '白银市', id: '白银市'}]
}];

<div style={{height: "500px"}}>
    <IndexList data={data}></IndexList>
</div>
`,ve=`const data = [{
    id: 'A', name: '安徽',
    children: [{name: '合肥', id: '1'},{name: '芜湖', id: '2'},{name: '蚌埠', id: '3'},{name: '淮南', id: '4'},{name: '马鞍山', id: '5'}
    ,{name: '淮北', id: '6'},{name: '铜陵', id: '7'},{name: '安庆', id: '8'}],
},{
    id: 'B', name: '北京',
    children: [{name: '北京市', id: '北京市'}],
}, {
    id: 'C', name: '重庆',
    children: [{name: '重庆市', id: '重庆市'}]
}, {
    id: 'F', name: '福建',
    children: [{name: '福州市', id: '福州市'}, {name: '厦门市', id: '厦门市'}, {name: '莆田市', id: '莆田市'}, {name: '三明市', id: '三明市'}]
}, {
    id: 'G', name: '甘肃',
    children: [{name: '兰州市', id: '兰州市'}, {name: '嘉峪关市', id: '嘉峪关市'}, {name: '金昌市', id: '金昌市'}, {name: '白银市', id: '白银市'}]
}];

<div style={{height: "500px"}}>
    <IndexList data={data} selectable onChange={(v) => {
        console.log(v);
    }}></IndexList>
</div>
`,_e=`const data = [{
    id: 'A', name: '安徽',
    children: [{name: '合肥', id: '1'},{name: '芜湖', id: '2'},{name: '蚌埠', id: '3'},{name: '淮南', id: '4'},{name: '马鞍山', id: '5'}
    ,{name: '淮北', id: '6'},{name: '铜陵', id: '7'},{name: '安庆', id: '8'}],
},{
    id: 'B', name: '北京',
    children: [{name: '北京市', id: '北京市'}],
}, {
    id: 'C', name: '重庆',
    children: [{name: '重庆市', id: '重庆市'}]
}, {
    id: 'F', name: '福建',
    children: [{name: '福州市', id: '福州市'}, {name: '厦门市', id: '厦门市'}, {name: '莆田市', id: '莆田市'}, {name: '三明市', id: '三明市'}]
}, {
    id: 'G', name: '甘肃',
    children: [{name: '兰州市', id: '兰州市'}, {name: '嘉峪关市', id: '嘉峪关市'}, {name: '金昌市', id: '金昌市'}, {name: '白银市', id: '白银市'}]
}];

<div style={{height: "500px"}}>
    <IndexList data={data} border></IndexList>
</div>
`,be=`const data = [{
    id: 'A', name: '安徽',
    children: [{name: '合肥', id: '1'},{name: '芜湖', id: '2'},{name: '蚌埠', id: '3'},{name: '淮南', id: '4'},{name: '马鞍山', id: '5'}
    ,{name: '淮北', id: '6'},{name: '铜陵', id: '7'},{name: '安庆', id: '8'}],
},{
    id: 'B', name: '北京',
    children: [{name: '北京市', id: '北京市'}],
}, {
    id: 'C', name: '重庆',
    children: [{name: '重庆市', id: '重庆市'}]
}, {
    id: 'F', name: '福建',
    children: [{name: '福州市', id: '福州市'}, {name: '厦门市', id: '厦门市'}, {name: '莆田市', id: '莆田市'}, {name: '三明市', id: '三明市'}]
}, {
    id: 'G', name: '甘肃',
    children: [{name: '兰州市', id: '兰州市'}, {name: '嘉峪关市', id: '嘉峪关市'}, {name: '金昌市', id: '金昌市'}, {name: '白银市', id: '白银市'}]
}];

<div style={{height: "500px"}}>
    <IndexList data={data} selectable renderItem={(item: any, active: boolean) => {
        return <Space dir="h">
            <Checkbox checked={active}/>
            <div style={{flex: 1}}>{item.name}</div>
            <span style={{"padding-right": '5px'}}>xxxxxxxxx</span></Space>
    }} onChange={(v) => {
        console.log(v);
    }}></IndexList>
</div>
`,Ce=[{name:"style",desc:"自定义样式",type:"Object",default:""},{name:"classList",desc:"自定义class",type:"Object",default:""},{name:"class",desc:"自定义class",type:"string",default:""},{name:"data",desc:"传入的数据源",type:"array",default:""},{name:"selectable",desc:"可选择的",type:"boolean",default:""},{name:"promote",desc:"显示提示信息",type:"boolean",default:"true"},{name:"border",desc:"显示带边框的列表",type:"boolean",default:""},{name:"renderItem",desc:"自定义渲染方法",type:"Function",default:""},{name:"onChange",desc:"选择选项改变事件",type:"Function",default:""}],$e=[{name:"id",desc:"选项标识",type:"string|number",default:""},{name:"name",desc:"显示名称",type:"string",default:""},{name:"children",desc:"子元素",type:"any[]",default:""}],Ae=[{id:"indexlist_base",text:"基础用法"},{id:"indexlist_selectable",text:"可选择"},{id:"indexlist_border",text:"边框"},{id:"indexlist_custom",text:"自定义渲染"},{id:"comp_api",text:"API"},{id:"comp_props",text:"属性"},{id:"comp_item_props",text:"数据属性"}],P={indexlist_base:ye,indexlist_selectable:ve,indexlist_border:_e,indexlist_custom:be},X=x("<div>"),Ee=x('<div><div class="cm-index-list-list"></div><div class="cm-index-list-nav">'),Fe=x("<dl><dt>"),De=x("<dd>");function T(r){const g=()=>r.promote??!0,[a,h]=ae(r,"value",[]),[B,p]=w(""),[Y,j]=w(!1),[H,J]=w(""),[z,q]=re({list:[],listMap:{}});let f={},y,I={};le(()=>{const d=[];f={};let t={};r.data.forEach(i=>{(i.id===void 0||i.id===null)&&(i.id=R());const l={id:i.id};f[i.id]=i,t[i.id]=l,d.push(l),i.children&&(l.children=[],i.children.forEach(n=>{(n.id===void 0||n.id===null)&&(n.id=R()),f[n.id]=n;const c={id:n.id};t[n.id]=c,l.children.push(c)}))}),q({list:d,listMap:t})});const K=()=>pe(r,"cm-index-list",{"cm-index-list-border":r.border}),Q=d=>{if(!r.selectable)return;const t=a(),i=d.id;if(d.active){const l=t.indexOf(i);t.splice(l,1),h(t)}else t.push(i),h([...t]);r.onChange&&r.onChange(a()),q("listMap",d.id,"active",!d.active)};let S=null;const W=(d,t,i)=>{i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation();const l=document.querySelector(d);if(l){g()&&(J(t),j(!0),S&&clearTimeout(S),S=setTimeout(()=>{Z()},1e3));const n=l.getBoundingClientRect().top,c=y.getBoundingClientRect().top,o=n-c;y.scrollTo({top:y.scrollTop+o,behavior:"smooth"})}},Z=()=>{j(!1)},ee=()=>{const d=y.scrollTop,t=ne(d);p(t)},ne=d=>{let t="",i=Number.MAX_VALUE;for(let l in I){const n=Math.abs(I[l]-d);i>n&&(i=n,t=l)}return t},te=(d,t)=>{queueMicrotask(()=>{I[t]=d.offsetTop})},ie=()=>({"cm-index-list-promote":!0,"cm-index-list-promote-show":Y()});return(()=>{const d=Ee(),t=d.firstChild,i=t.nextSibling;t.addEventListener("scroll",ee);const l=y;return typeof l=="function"?O(l,t):y=t,s(t,e(M,{get each(){return z.list},children:n=>{const c=f[n.id];return(()=>{const o=Fe(),k=o.firstChild;return O(m=>{te(m,n.id)},o),s(k,()=>c.name),s(o,e(M,{get each(){return n.children},children:m=>{const b=f[m.id];return(()=>{const C=De();return N(C,"click",Q.bind(null,m),!0),s(C,(()=>{const de=se(()=>!!r.renderItem);return()=>de()?r.renderItem(b,m.active):b.name})()),v(()=>me(C,m.active?"active":"")),C})()}}),null),v(()=>ue(o,"id",`cm_index_list_${n.id}`)),o})()}})),s(i,e(M,{get each(){return z.list},children:n=>{const c=f[n.id],o=()=>B()===n.id,k=()=>({"cm-index-list-nav-item":!0,active:o()});return(()=>{const m=X();return N(m,"click",W.bind(null,`#cm_index_list_${n.id}`,c.id),!0),s(m,()=>c.id),v(b=>G(m,k(),b)),m})()}})),s(d,e(ce,{get when(){return g()},get children(){const n=X();return s(n,H),v(c=>G(n,ie(),c)),n}}),null),v(n=>{const c=K(),o=r.style;return n._v$=G(d,c,n._v$),n._v$2=he(d,o,n._v$2),n},{_v$:void 0,_v$2:void 0}),d})()}oe(["click"]);const _=x("<div>"),Le=x('<div class="sys-ctx-main-left">'),Pe=x("<span>xxxxxxxxx");function ze(){const r=[{id:"A",name:"安徽",children:[{name:"合肥",id:"1"},{name:"芜湖",id:"2"},{name:"蚌埠",id:"3"},{name:"淮南",id:"4"},{name:"马鞍山",id:"5"},{name:"淮北",id:"6"},{name:"铜陵",id:"7"},{name:"安庆",id:"8"}]},{id:"B",name:"北京",children:[{name:"北京市",id:"北京市"}]},{id:"C",name:"重庆",children:[{name:"重庆市",id:"重庆市"}]},{id:"F",name:"福建",children:[{name:"福州市",id:"福州市"},{name:"厦门市",id:"厦门市"},{name:"莆田市",id:"莆田市"},{name:"三明市",id:"三明市"}]},{id:"G",name:"甘肃",children:[{name:"兰州市",id:"兰州市"},{name:"嘉峪关市",id:"嘉峪关市"},{name:"金昌市",id:"金昌市"},{name:"白银市",id:"白银市"}]}];return[(()=>{const g=Le();return O(xe,g,()=>""),s(g,e(u,{dir:"v",size:32,get children(){return[e(F,{heading:2,children:"IndexList 索引列表"}),e(u,{id:"indexlist_base",dir:"v",get children(){return e(D,{bordered:!0,get children(){return[(()=>{const a=_();return a.style.setProperty("height","500px"),s(a,e(T,{data:r})),a})(),e(A,{align:"left",get children(){return e($,{type:"primary",children:"基础用法"})}}),e(L,{type:"secondary",spacing:"extended",children:"基础用法"}),e(E,{get data(){return P.indexlist_base}})]}})}}),e(u,{id:"indexlist_selectable",dir:"v",get children(){return e(D,{bordered:!0,get children(){return[(()=>{const a=_();return a.style.setProperty("height","500px"),s(a,e(T,{data:r,selectable:!0,onChange:h=>{console.log(h)}})),a})(),e(A,{align:"left",get children(){return e($,{type:"primary",children:"可选择"})}}),e(L,{type:"secondary",spacing:"extended",children:"添加selectable属性可以对选项进行选择"}),e(E,{get data(){return P.indexlist_selectable}})]}})}}),e(u,{id:"indexlist_border",dir:"v",get children(){return e(D,{bordered:!0,get children(){return[(()=>{const a=_();return a.style.setProperty("height","500px"),s(a,e(T,{data:r,border:!0})),a})(),e(A,{align:"left",get children(){return e($,{type:"primary",children:"边框"})}}),e(L,{type:"secondary",spacing:"extended",children:"添加 border 属性渲染边框"}),e(E,{get data(){return P.indexlist_border}})]}})}}),e(u,{id:"indexlist_custom",dir:"v",get children(){return e(D,{bordered:!0,get children(){return[(()=>{const a=_();return a.style.setProperty("height","500px"),s(a,e(T,{data:r,selectable:!0,renderItem:(h,B)=>e(u,{dir:"h",get children(){return[e(fe,{checked:B}),(()=>{const p=_();return p.style.setProperty("flex","1"),s(p,()=>h.name),p})(),(()=>{const p=Pe();return p.style.setProperty("padding-right","5px"),p})()]}}),onChange:h=>{console.log(h)}})),a})(),e(A,{align:"left",get children(){return e($,{type:"primary",children:"自定义渲染"})}}),e(L,{type:"secondary",spacing:"extended",children:"通过 renderItem 方法可以自定义选项的渲染方式"}),e(E,{get data(){return P.indexlist_custom}})]}})}}),e(u,{dir:"v",size:24,id:"comp_api",get children(){return[e(F,{type:"primary",heading:3,children:"API"}),e(u,{id:"comp_props",dir:"v",get children(){return[e(F,{type:"primary",heading:4,children:"IndexList Props"}),e(U,{columns:V,data:Ce,border:!0,size:"small"})]}}),e(u,{id:"comp_item_props",dir:"v",get children(){return[e(F,{type:"primary",heading:4,children:"data Props"}),e(U,{columns:V,data:$e,border:!0,size:"small"})]}})]}})]}})),g})(),e(ge,{data:Ae})]}export{ze as default};
