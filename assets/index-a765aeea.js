import{c as v,d as g,i as b,a as r,F as k,h as x,j as C,s as m,t as F,k as _}from"./index-69f0698f.js";import{I as $}from"./code-0a2ad5d4.js";import{c as y}from"./createField-bb19acb2.js";const E=F("<div>");function I(t){const o=()=>_(t,"cm-checkbox-group",{"cm-checkbox-group-stack":t.block}),[i,u]=y(t,[]),f=(n,e)=>{if(t.disabled)return;let a=i()||[];if(n)a.includes(e)||(a=a.concat(e));else{const d=a.indexOf(e);d>-1&&a.splice(d,1)}const l=JSON.parse(JSON.stringify(a));u(l),t.onChange&&t.onChange(l)},h=t.textField||"label",c=t.valueField||"value",s={};return t.data&&t.data.forEach(n=>{const a=(i()||[]).includes(n[c]);s[n[c]]=v(a)}),g(()=>{const n=i()??[];for(let e=0;e<t.data.length;e++){const a=t.data[e],l=n.includes(a[c]);s[a[c]]&&s[a[c]][1](l)}}),(()=>{const n=E();return b(n,r(k,{get each(){return t.data},children:e=>r($,{inner:!0,get disabled(){return t.disabled||e.disabled},get value(){return e[c]},get checked(){return s[e[c]][0]()},get label(){return e[h]},onChange:f})})),x(e=>{const a=o(),l=t.style;return e._v$=C(n,a,e._v$),e._v$2=m(n,l,e._v$2),e},{_v$:void 0,_v$2:void 0}),n})()}export{I as C};
