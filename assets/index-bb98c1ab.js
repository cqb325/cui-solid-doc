import{o as J,c as S,b as K,a as i,_ as E,f as z,g as b,i as c,A as Q,e as W,I as L,a5 as X,n as p,t as m,Z as ee,Y as te,u as T,h as w,s as M,$ as se,m as le,j as ne}from"./index-39ed6b74.js";import{D as ae}from"./index-52350584.js";import{B as I}from"./index-f8aef721.js";const oe=m("<div>"),ce=m('<div class="cm-modal-footer">'),ie=m('<div><div class="cm-modal-header"><span class="cm-modal-close"></span></div><div class="cm-modal-body">'),re=m('<div tabindex="1">'),de=m('<div class="cm-modal-title">'),me=m('<div class="cm-modal-left"><div class="cm-modal-icon">'),ue=m('<div class="cm-modal-right">');function fe(t){let r,e,a;const[u,f]=J(t,"visible",!1),[v,o]=S(!1),k=()=>ne(t,"cm-modal"),h=ee(),O=()=>({"cm-modal-wrap":!0,"cm-modal-visible":u(),"cm-modal-fullscreen":t.fullScreen}),A=()=>({"cm-modal-mask":!0,"cm-modal-mask-visible":u()}),B=()=>{t.onClickClose&&t.onClickClose(),y()},y=()=>{t.onClosed&&t.onClosed(),f(!1)},D=()=>{y(),t.onCancel&&t.onCancel()},F=()=>{if(t.onOk&&t.onOk(),t.loading){v()||o(!0);return}y()};K(()=>{u()?(r&&setTimeout(()=>{r.focus()},300),Z&&a&&a.reset()):o(!1)});const V=s=>{Y&&s.target===e&&f(!1)},j=s=>{s.keyCode===27&&f(!1)},x="cm-modal-portal",q=t.footer??!0,g=te(),N=t.okText||"确 定",R=t.cancleText||"取 消",U=t.mask??!0,Y=t.maskClosable??!0,Z=t.resetPostion??!1;return i(X,{get mount(){return E(x,x)},get children(){return[i(z,{when:U,get children(){const s=oe(),$=e;return typeof $=="function"?T($,s):e=s,s.$$click=V,h-1!=null?s.style.setProperty("z-index",h-1):s.style.removeProperty("z-index"),b(n=>w(s,A(),n)),s}}),(()=>{const s=re();s.$$keydown=j;const $=r;return typeof $=="function"?T($,s):r=s,h!=null?s.style.setProperty("z-index",h):s.style.removeProperty("z-index"),c(s,i(ae,{ref(n){const d=a;typeof d=="function"?d(n):a=n},get bounds(){return t.bounds||"body"},get style(){return t.defaultPosition},handle:'.cm-modal-header[data-id="'+g+'"]',get disabled(){return t.disabled},get children(){const n=ie(),d=n.firstChild,C=d.firstChild,P=d.nextSibling;return Q(d,"data-id",`${g}`),c(d,(()=>{const l=W(()=>!!t.title);return()=>l()?(()=>{const _=de();return c(_,()=>t.title),_})():null})(),C),C.$$click=B,c(C,i(L,{name:"x"})),c(P,()=>t.children),c(n,i(z,{when:q,get children(){const l=ce();return c(l,i(I,{type:"primary",get loading(){return v()},onClick:F,children:N}),null),c(l,i(I,{type:"default",className:"mr-10",onClick:D,children:R}),null),l}}),null),b(l=>{const _=k(),G=t.style,H=t.bodyStyle;return l._v$=w(n,_,l._v$),l._v$2=M(n,G,l._v$2),l._v$3=M(P,H,l._v$3),l},{_v$:void 0,_v$2:void 0,_v$3:void 0}),n}})),b(n=>w(s,O(),n)),s})()]}})}function $e(){const[t,r]=S(!0);return{open(e){r(!0);let a="";e.status==="success"&&(a="check-circle"),e.status==="info"&&(a="info"),e.status==="warning"&&(a="alert-circle"),e.status==="error"&&(a="x-circle"),e.status==="confirm"&&(a="help-circle");const u=o=>{r(o),setTimeout(()=>{v?.()},250)};e.style={"min-width":"24vw",...e.style},e.visible=[t,u],e.defaultPosition={top:"200px",...e.defaultPosition};const f=E("cm-modal-portal-instance","cm-modal-portal"),v=se(()=>i(fe,le(e,{class:"cm-modal-instance",get children(){return[(()=>{const o=me(),k=o.firstChild;return c(k,i(L,{name:a,size:24})),o})(),(()=>{const o=ue();return c(o,()=>e.content),o})()]}})),f)},success(e){return e.status="success",this.open(e)},info(e){return e.status="info",this.open(e)},warning(e){return e.status="warning",this.open(e)},error(e){return e.status="error",this.open(e)},confirm(e){return e.status="confirm",this.open(e)},remove(){r(!1),setTimeout(()=>{},250)}}}const ke=$e();p(["click","keydown"]);export{fe as M,ke as m};
