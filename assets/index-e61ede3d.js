import{n as O,i as l,a as t,g as k,s as T,t as m,b as V,B as z,I as F,f as M,F as R,R as J,r as N,h as q,j as G,c as H,u as K,S as v,T as y}from"./index-83d09049.js";import{B as A,C}from"./index-e34e5d64.js";import{I as P,D as S,a as I,C as Q}from"./code-799e34f9.js";import{I as U}from"./input-172ad651.js";import{c as W}from"./createField-01899bee.js";import{T as b}from"./Title-9eb0645c.js";import{P as E}from"./Paragraph-8bc200e6.js";import{T as j,p as X,e as Y}from"./columns-300f9de5.js";import{h as Z}from"./hljs-74a5c6d1.js";import"./_commonjsHelpers-725317a4.js";const p=m('<div class="cm-transfer-list-item"><div>');function ee(e){const h=()=>e.render?e.render(e.data):e.data.title,o=()=>{e.data.disabled||e.onSelect(e.data)},g=()=>e.data._checked,a=()=>({display:e.data._hide?"none":"flex"});return(()=>{const s=p(),c=s.firstChild;return s.$$click=o,l(s,t(P,{get checked(){return g()},get disabled(){return e.data.disabled}}),c),l(c,h),k(_=>T(s,a(),_)),s})()}O(["click"]);const te=m("<div><span>"),re=m('<div class="">'),ne=m('<div class="cm-transfer-filter-wrap">'),ae=m('<div class="cm-transfer-list"><div class="cm-transfer-list-header"></div><div class="cm-transfer-list-body"><div class="cm-transfer-list-content">');function B(e){const h=()=>({width:e.width?`${e.width}px`:"",height:e.height?`${e.height}px`:""}),o=()=>{const r=e.value||[],n={};return r.forEach(i=>{n[i]=!0}),e.store.data.filter(i=>e.name==="source"?!n[i.id]:n[i.id])},g=()=>{let r=0;return o().forEach(n=>{n.disabled||r++}),r},a=r=>{e.onSelect(r,!r._checked),r._checked?e.setStore(`${e.name}Ids`,[...e.store[`${e.name}Ids`],r.id]):e.setStore(`${e.name}Ids`,J(n=>{n.splice(n.indexOf(r.id),1)}))},s=()=>{const r=e.store[`${e.name}Ids`];return r.length>0?g()===r.length?!0:"indeterminate":!1},c=r=>{const n=[],i=o();i.forEach(f=>{e.onSelect(f,r)}),i.forEach(f=>{f._checked&&n.push(f.id)}),e.setStore(`${e.name}Ids`,n)};V(()=>{e.store[`${e.name}Ids`].length?e.setStore&&e.setStore(`${e.name}Disabled`,!1):e.setStore&&e.setStore(`${e.name}Disabled`,!0)});const _=r=>{o().forEach(i=>{const f=()=>e.render?e.render(i):i.title;e.setStore("data",u=>u.id===i.id,"_hide",!f().includes(r))})},$=()=>o().length,d=()=>{const r=e.store[`${e.name}Ids`];return r.length?r.length+"/"+$():$()};return(()=>{const r=ae(),n=r.firstChild,i=n.nextSibling,f=i.firstChild;return l(n,t(z,{get children(){return[(()=>{const u=te(),w=u.firstChild;return l(u,t(P,{get checked(){return s()},onChange:c}),w),l(w,()=>e.name==="source"?"源列表":"目标列表"),u})(),(()=>{const u=re();return l(u,d),u})()]}})),l(i,t(M,{get when(){return e.filter},get children(){const u=ne();return l(u,t(U,{get append(){return t(F,{name:"search"})},size:"small",onInput:_})),u}}),f),l(f,t(R,{get each(){return o()},children:u=>t(ee,{data:u,onSelect:a,get store(){return e.store},get render(){return e.render}})})),k(u=>T(r,h(),u)),r})()}const se=m('<div><div class="cm-transfer-operation">');function x(e){const[h,o]=W(e,[]),g=()=>G(e,"cm-transfer"),[a,s]=N({data:[],sourceDisabled:!0,targetDisabled:!0,sourceIds:[],targetIds:[]});V(()=>{s("data",e.data||[])});const c=(d,r)=>{d.disabled||s("data",n=>n.id===d.id,"_checked",r)},_=()=>{a.sourceIds.forEach(r=>{s("data",n=>n.id===r,"_checked",!1)});let d=h();d=d.concat([...a.sourceIds]),s("sourceIds",[]),o([...d]),e.onChange&&e.onChange([...d])},$=()=>{a.targetIds.forEach(r=>{s("data",n=>n.id===r,"_checked",!1)});let d=h();a.targetIds.forEach(r=>{d.splice(d.indexOf(r),1)}),s("targetIds",[]),o([...d]),e.onChange&&e.onChange([...d])};return(()=>{const d=se(),r=d.firstChild;return l(d,t(B,{get width(){return e.width},get height(){return e.height},store:a,setStore:s,name:"source",get value(){return h()},onSelect:c,get filter(){return e.filter},get render(){return e.render}}),r),l(r,t(A,{get disabled(){return a.sourceDisabled},get icon(){return t(F,{name:"chevron-right"})},size:"small",onClick:_,children:"To Right"}),null),l(r,t(A,{get disabled(){return a.targetDisabled},get icon(){return t(F,{name:"chevron-left"})},size:"small",onClick:$,children:"To Left"}),null),l(d,t(B,{get width(){return e.width},get height(){return e.height},store:a,setStore:s,name:"target",get value(){return h()},onSelect:c,get filter(){return e.filter},get render(){return e.render}}),null),k(n=>{const i=g(),f=e.style;return n._v$=q(d,i,n._v$),n._v$2=T(d,f,n._v$2),n},{_v$:void 0,_v$2:void 0}),d})()}const de=`const data = [];
for (let i = 0; i < 15; i++) {
    const disabled = Math.random() < 0.4 ? true : false;
    const obj = {
        id: i,
        disabled,
        title: 'Content_'+ i
    };
    data.push(obj)
}
const [value, setValue] = createSignal([2,5,7])

<Transfer width={250} height={300} data={data} value={[value, setValue]}/>`,ie=`const data = [];
for (let i = 0; i < 15; i++) {
    const disabled = Math.random() < 0.4 ? true : false;
    const obj = {
        id: i,
        disabled,
        title: 'Content_'+ i
    };
    data.push(obj)
}
const [value, setValue] = createSignal([2,5,7])

<Transfer width={250} height={300} data={data} value={[value, setValue]} filter/>`,le=`const data = [];
for (let i = 0; i < 15; i++) {
    const disabled = Math.random() < 0.4 ? true : false;
    const obj = {
        id: i,
        disabled,
        title: 'Content_'+ i
    };
    data.push(obj)
}
const [value, setValue] = createSignal([2,5,7])

<Transfer width={250} height={300} data={data} value={[value, setValue]} render={(item: any) => {
    return <BothSide><span>{item.id}</span><span>{item.title}</span></BothSide>
}}/>`,ce=[{name:"classList",desc:"自定义class",type:"Object",default:""},{name:"class",desc:"自定义class",type:"string",default:""},{name:"style",desc:"自定义样式",type:"Object",default:""},{name:"name",desc:"name属性",type:"string",default:""},{name:"value",desc:"值，可控属性",type:"Function[]",default:""},{name:"width",desc:"单个list的宽度",type:"number",default:""},{name:"height",desc:"单个list的高度",type:"number",default:""},{name:"data",desc:"列表的数据项",type:"Array",default:""},{name:"filter",desc:"可过滤",type:"boolean",default:""},{name:"render",desc:"自定义渲染",type:"Function",default:""},{name:"onChange",desc:"值改变事件",type:"Function",default:""}],ue=[{name:"onChange",desc:"值改变事件",params:"value"}],oe=[{id:"transfer_base",text:"基础用法"},{id:"transfer_filter",text:"过滤"},{id:"transfer_render",text:"自定义渲染"},{id:"comp_api",text:"API"},{id:"comp_props",text:"属性"},{id:"comp_events",text:"事件"}],D={transfer_base:de,transfer_filter:ie,transfer_render:le},he=m('<div class="sys-ctx-main-left">'),L=m("<span>");function Ie(){const e=[];for(let a=0;a<15;a++){const s=Math.random()<.4,c={id:a,disabled:s,title:"Content_"+a};e.push(c)}const h=JSON.parse(JSON.stringify(e)),[o,g]=H([2,5,7]);return[(()=>{const a=he();return K(Z,a,()=>""),l(a,t(v,{dir:"v",size:32,get children(){return[t(b,{heading:2,children:"Transfer 穿梭框"}),t(v,{id:"transfer_base",dir:"v",get children(){return t(C,{bordered:!0,get children(){return[t(x,{width:250,height:300,data:e,value:[o,g]}),t(S,{align:"left",get children(){return t(y,{type:"primary",children:"基础用法"})}}),t(E,{type:"secondary",spacing:"extended",children:"基础用法"}),t(I,{get data(){return D.transfer_base}})]}})}}),t(v,{id:"transfer_filter",dir:"v",get children(){return t(C,{bordered:!0,get children(){return[t(x,{width:250,height:300,data:h,value:[o,g],filter:!0}),t(S,{align:"left",get children(){return t(y,{type:"primary",children:"过滤"})}}),t(E,{type:"secondary",spacing:"extended",children:"添加 filter 参数可增加过滤功能"}),t(I,{get data(){return D.transfer_filter}})]}})}}),t(v,{id:"transfer_render",dir:"v",get children(){return t(C,{bordered:!0,get children(){return[t(x,{width:250,height:300,data:h,value:[o,g],render:s=>t(z,{get children(){return[(()=>{const c=L();return l(c,()=>s.id),c})(),(()=>{const c=L();return l(c,()=>s.title),c})()]}})}),t(S,{align:"left",get children(){return t(y,{type:"primary",children:"自定义渲染"})}}),t(E,{type:"secondary",spacing:"extended",children:"通过 render 函数可自定义选项的渲染"}),t(I,{get data(){return D.transfer_render}})]}})}}),t(v,{dir:"v",size:24,id:"comp_api",get children(){return[t(b,{type:"primary",heading:3,children:"API"}),t(v,{id:"comp_props",dir:"v",get children(){return[t(b,{type:"primary",heading:4,children:"TimePicker Props"}),t(j,{columns:X,data:ce,border:!0,size:"small"})]}}),t(v,{id:"comp_events",dir:"v",get children(){return[t(b,{type:"primary",heading:4,children:"Events"}),t(j,{columns:Y,data:ue,border:!0,size:"small"})]}})]}})]}})),a})(),t(Q,{data:oe})]}export{Ie as default};
