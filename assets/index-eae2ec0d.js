import{c as F,O as x,aW as $,i as o,a as e,h,j as b,t as d,aR as E,k as I,s as H,l as T,u as A,S as i,T as S,P,d as j}from"./index-0e28ff91.js";import{C as z}from"./index-50d316ba.js";import{D as L,a as B,C as O}from"./code-f57eb3d5.js";import{T as p}from"./Title-1e26531c.js";import{p as R}from"./columns-cd2d5c33.js";import{h as k}from"./hljs-97c5734b.js";const M=d('<span class="cm-count-down-prefix">'),N=d('<span class="cm-count-down-suffix">'),W=d('<span><span class="cm-count-down-value">');function l(t){return`${t}`.padStart(2,"0")}function g(t){let s;const[v,w]=F(new Date().getTime()),y=()=>{let a=t.value;(typeof a=="string"||a instanceof Date)&&(a=E(a).toDate().getTime());let r=a-v();r<=0&&(s&&(clearInterval(s),s=null),t.onEnd&&t.onEnd(),r=0);const n=l(parseInt(r/(1e3*60*60*24)+"",10)),m=l(parseInt(r/(1e3*60*60)+"",10)%24),f=l(parseInt(r/(1e3*60)+"",10)%60),_=l(parseInt(r/1e3+"",10)%60),c=t.format??"HH:mm:ss";let u=c;return c.match(/D+/)&&(u=u.replace(/D+/,n+"")),c.match(/H+/)&&(u=u.replace(/H+/,m+"")),c.match(/m+/)&&(u=u.replace(/m+/,f+"")),c.match(/s+/)&&(u=u.replace(/s+/,_+"")),u},C=()=>{s=setInterval(()=>{w(new Date().getTime())},1e3)};x(()=>{C()}),$(()=>{clearInterval(s),s=null});const D=()=>T(t,"cm-count-down");return(()=>{const a=W(),r=a.firstChild;return o(a,e(h,{get when(){return t.prefix},get children(){const n=M();return o(n,()=>t.prefix),n}}),r),o(r,y),o(a,e(h,{get when(){return t.suffix},get children(){const n=N();return o(n,()=>t.suffix),n}}),null),b(n=>{const m=D(),f=t.style;return n._v$=I(a,m,n._v$),n._v$2=H(a,f,n._v$2),n},{_v$:void 0,_v$2:void 0}),a})()}const Z=`const start = Date.now() + 3900000;
<Space dir="h" size={100}>
    <CountDown value={start} />
    <CountDown value={start} format="HH时mm分ss秒" prefix='剩余时间：'/>
</Space>`,q=[{name:"style",desc:"自定义样式",type:"Object",default:""},{name:"classList",desc:"自定义Class",type:"Object",default:""},{name:"class",desc:"自定义Class",type:"string",default:""},{name:"value",desc:"目标值",type:"number",default:""},{name:"prefix",desc:"前缀",type:"string",default:""},{name:"suffix",desc:"后缀",type:"string",default:""},{name:"format",desc:"格式化",type:"string",default:""},{name:"onEnd",desc:"结束回调",type:"Function",default:""}],G=[{id:"countdown_base",text:"基础用法"},{id:"comp_api",text:"API"},{id:"comp_props",text:"属性"}],J={countdown_base:Z},K=d('<div class="sys-ctx-main-left">');function te(){const t=Date.now()+39e5;return[(()=>{const s=K();return A(k,s,()=>""),o(s,e(i,{dir:"v",size:32,get children(){return[e(p,{heading:2,children:"CountDown 倒计时"}),e(i,{id:"countdown_base",dir:"v",get children(){return e(z,{bordered:!0,get children(){return[e(i,{dir:"h",size:100,get children(){return[e(g,{value:t}),e(g,{value:t,format:"HH时mm分ss秒",prefix:"剩余时间："})]}}),e(L,{align:"left",get children(){return e(S,{type:"primary",children:"基础用法"})}}),e(P,{type:"secondary",spacing:"extended",children:"简单的倒计时组件使用, format可以格式化时间格式。"}),e(B,{get data(){return J.countdown_base}})]}})}}),e(i,{dir:"v",size:24,id:"comp_api",get children(){return[e(p,{type:"primary",heading:3,children:"API"}),e(i,{id:"comp_props",dir:"v",get children(){return[e(p,{type:"primary",heading:4,children:"CountDown Props"}),e(j,{columns:R,data:q,border:!0,size:"small"})]}})]}})]}})),s})(),e(O,{data:G})]}export{te as default};
