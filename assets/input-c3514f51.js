import{C as I,i as r,f as u,h as d,s as g,u as K,a5 as b,m as z,a as D,I as U,j as k,t as o,k as E}from"./index-012dff6d.js";import{c as L}from"./createField-0624a138.js";const B=o('<div><input class="cm-input">'),P=o('<div class="cm-input-prefix">'),j=o('<div class="cm-input-group-prepend">'),F=o('<div class="cm-input-suffix">'),M=o('<div class="cm-input-group-append">');function V(l){const h=()=>E(l,"cm-input-wrapper",{"cm-input-disabled":l.disabled,"cm-input-hidden":l.type==="hidden",[`cm-input-${l.size}`]:l.size,"cm-input-group-with-prefix":l.prefix,"cm-input-group-with-suffix":l.suffix,"cm-input-group-with-append":l.append,"cm-input-group-with-prepend":l.prepend}),[e,x]=I(l,["classList","class","name","style","disabled","size","type","append","prepend","prefix","suffix","suffixStyle","prefixStyle","clearable","value","onChange","onEnter","onKeyDown","onKeyUp","onInput","trigger"]),p={};e.suffixStyle&&e.suffixStyle.width&&(p["padding-right"]=e.suffixStyle.width+"px"),e.prefixStyle&&e.prefixStyle.width&&(p["padding-left"]=e.prefixStyle.width+"px");const[f,c]=L(l,""),y=e.trigger||"blur",_=n=>{y==="input"&&(e.onChange&&e.onChange(n.target.value),c(n.target.value)),e.onInput&&e.onInput(n.target.value,n)},v=n=>{},$=n=>{const a=n.target.value;y==="blur"&&e.onChange&&e.onChange(a),c(a)},C=()=>{e.onChange&&e.onChange(""),c("")},w=n=>{n.keyCode===13&&e.onEnter&&e.onEnter(f()),e.onKeyUp&&e.onKeyUp(n)},S=n=>{n.keyCode===13&&(c(n.target.value),e.onChange&&e.onChange(n.target.value)),e.onKeyDown&&e.onKeyDown(n)};return(()=>{const n=B(),a=n.firstChild;r(n,(()=>{const t=u(()=>!!e.prefix);return()=>t()?(()=>{const i=P();return r(i,()=>e.prefix),d(s=>g(i,e.prefixStyle,s)),i})():null})(),a),r(n,(()=>{const t=u(()=>!!e.prepend);return()=>t()?(()=>{const i=j();return r(i,()=>e.prepend),i})():null})(),a);const m=l.ref;return typeof m=="function"?K(m,a):l.ref=a,b(a,z(x,{get value(){return f()},onChange:v,onInput:_,onBlur:$,get disabled(){return e.disabled},style:p,onKeyDown:S,onKeyUp:w,get type(){return e.type}}),!1,!1),r(n,(()=>{const t=u(()=>!!(e.clearable&&f()));return()=>t()?D(U,{class:"cm-input-clear",name:"x-circle",onClick:C}):null})(),null),r(n,(()=>{const t=u(()=>!!e.suffix);return()=>t()?(()=>{const i=F();return r(i,()=>e.suffix),d(s=>g(i,e.suffixStyle,s)),i})():null})(),null),r(n,(()=>{const t=u(()=>!!e.append);return()=>t()?(()=>{const i=M();return r(i,()=>e.append),i})():null})(),null),d(t=>{const i=h(),s=e.style;return t._v$=k(n,i,t._v$),t._v$2=g(n,s,t._v$2),t},{_v$:void 0,_v$2:void 0}),n})()}export{V as I};
